<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with dsVertClient • dsVertClient</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Getting Started with dsVertClient">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dsVertClient</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/a-getting-started.html">Getting Started with dsVertClient</a></li>
    <li><a class="dropdown-item" href="../articles/b-statistical-analysis.html">Statistical Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/c-methodology.html">Methodology</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/isglobal-brge/dsVertClient" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started with dsVertClient</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/isglobal-brge/dsVertClient/blob/HEAD/vignettes/a-getting-started.Rmd" class="external-link"><code>vignettes/a-getting-started.Rmd</code></a></small>
      <div class="d-none name"><code>a-getting-started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-vertical-data-partitioning">What is Vertical Data Partitioning?<a class="anchor" aria-label="anchor" href="#what-is-vertical-data-partitioning"></a>
</h2>
<p>In traditional <strong>horizontal partitioning</strong>, different
institutions hold data for <em>different patients</em> with the <em>same
variables</em>. For example, Hospital A has 1000 patients and Hospital B
has 2000 different patients, but both measure the same things (age,
blood pressure, etc.).</p>
<p><strong>Vertical partitioning</strong> is different: multiple
institutions hold data for the <em>same patients</em> but with
<em>different variables</em>. This commonly occurs when:</p>
<ul>
<li>A hospital has clinical data (diagnoses, treatments)</li>
<li>A laboratory has biomarker measurements</li>
<li>A research center has genomic data</li>
<li>A government agency has demographic data</li>
</ul>
<p>All these institutions have records for the same individuals,
identified by a common ID (e.g., national health number), but each holds
different pieces of information.</p>
<div class="section level3">
<h3 id="example-three-institutions-with-shared-patients">Example: Three Institutions with Shared Patients<a class="anchor" aria-label="anchor" href="#example-three-institutions-with-shared-patients"></a>
</h3>
<div style="display: flex; gap: 20px; flex-wrap: wrap; justify-content: space-around;">
<div style="flex: 1; min-width: 150px;">
<p><strong>Hospital A</strong></p>
<table class="table">
<thead><tr class="header">
<th align="center">ID</th>
<th align="center">Age</th>
<th align="center">Weight</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">P1</td>
<td align="center">45</td>
<td align="center">70</td>
</tr>
<tr class="even">
<td align="center">P2</td>
<td align="center">52</td>
<td align="center">85</td>
</tr>
<tr class="odd">
<td align="center">P3</td>
<td align="center">38</td>
<td align="center">62</td>
</tr>
</tbody>
</table>
</div>
<div style="flex: 1; min-width: 150px;">
<p><strong>Laboratory B</strong></p>
<table class="table">
<thead><tr class="header">
<th align="center">ID</th>
<th align="center">Glucose</th>
<th align="center">HDL</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">P1</td>
<td align="center">95</td>
<td align="center">55</td>
</tr>
<tr class="even">
<td align="center">P2</td>
<td align="center">110</td>
<td align="center">42</td>
</tr>
<tr class="odd">
<td align="center">P3</td>
<td align="center">88</td>
<td align="center">61</td>
</tr>
</tbody>
</table>
</div>
<div style="flex: 1; min-width: 150px;">
<p><strong>Research Center C</strong></p>
<table class="table">
<thead><tr class="header">
<th align="center">ID</th>
<th align="center">Gene1</th>
<th align="center">Gene2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">P1</td>
<td align="center">0.2</td>
<td align="center">0.8</td>
</tr>
<tr class="even">
<td align="center">P2</td>
<td align="center">0.5</td>
<td align="center">0.3</td>
</tr>
<tr class="odd">
<td align="center">P3</td>
<td align="center">0.1</td>
<td align="center">0.9</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><em>Same patients (P1, P2, P3) but different variables at each
institution.</em></p>
</div>
</div>
<div class="section level2">
<h2 id="the-privacy-challenge">The Privacy Challenge<a class="anchor" aria-label="anchor" href="#the-privacy-challenge"></a>
</h2>
<p>To analyze relationships between variables held by different
institutions (e.g., “Does glucose level correlate with genetic
markers?”), traditionally you would need to:</p>
<ol style="list-style-type: decimal">
<li>Send all data to a central location</li>
<li>Merge the datasets</li>
<li>Perform the analysis</li>
</ol>
<p>This approach has serious privacy and legal concerns:</p>
<ul>
<li>
<strong>Patient privacy</strong>: Sensitive data leaves protected
environments</li>
<li>
<strong>Legal barriers</strong>: GDPR and other regulations restrict
data transfer</li>
<li>
<strong>Trust issues</strong>: Institutions may not trust each other
with their data</li>
</ul>
</div>
<div class="section level2">
<h2 id="the-datashield-solution">The DataSHIELD Solution<a class="anchor" aria-label="anchor" href="#the-datashield-solution"></a>
</h2>
<p><strong>DataSHIELD</strong> is a framework that enables
privacy-preserving federated analysis. The key principle is:</p>
<blockquote>
<p><em>“Bring the analysis to the data, not the data to the
analysis”</em></p>
</blockquote>
<p>Instead of moving data, DataSHIELD:</p>
<ol style="list-style-type: decimal">
<li>Sends analysis commands to each server</li>
<li>Each server executes computations locally on its data</li>
<li>Only <strong>aggregate results</strong> (never individual-level
data) are returned</li>
<li>The client combines these aggregates to produce final results</li>
</ol>
<p><strong>dsVertClient</strong> extends DataSHIELD specifically for
<strong>vertically partitioned data</strong>, implementing:</p>
<ul>
<li>Privacy-preserving record alignment via cryptographic hashing</li>
<li>Distributed correlation and PCA using Block SVD</li>
<li>Distributed GLM fitting using Block Coordinate Descent</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="our-test-environment">Our Test Environment<a class="anchor" aria-label="anchor" href="#our-test-environment"></a>
</h2>
<p>For this tutorial, we have a simulated environment with <strong>3
institutions</strong> and <strong>200 patients</strong>. Each
institution holds different variables for the same patients:</p>
<table class="table">
<thead><tr class="header">
<th>Institution</th>
<th>Role</th>
<th>Variables</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>inst_A</strong></td>
<td>Hospital</td>
<td>age, weight</td>
</tr>
<tr class="even">
<td><strong>inst_B</strong></td>
<td>Clinic</td>
<td>height, bmi</td>
</tr>
<tr class="odd">
<td><strong>inst_C</strong></td>
<td>Laboratory</td>
<td>glucose, cholesterol</td>
</tr>
</tbody>
</table>
<p>All institutions also store outcome variables (blood pressure,
diabetes status, hospital visits, costs) which will be used for GLM
examples.</p>
<div class="section level3">
<h3 id="connecting-to-servers">Connecting to Servers<a class="anchor" aria-label="anchor" href="#connecting-to-servers"></a>
</h3>
<p>We connect to the DataSHIELD servers and assign the data to a symbol
<code>D</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build login credentials for each server</span></span>
<span><span class="va">builder</span> <span class="op">&lt;-</span> <span class="fu">newDSLoginBuilder</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">builder</span><span class="op">$</span><span class="fu">append</span><span class="op">(</span>server <span class="op">=</span> <span class="st">"inst_A"</span>, url <span class="op">=</span> <span class="st">"dslite_server"</span>,</span>
<span>               table <span class="op">=</span> <span class="st">"inst_A"</span>, driver <span class="op">=</span> <span class="st">"DSLiteDriver"</span><span class="op">)</span></span>
<span><span class="va">builder</span><span class="op">$</span><span class="fu">append</span><span class="op">(</span>server <span class="op">=</span> <span class="st">"inst_B"</span>, url <span class="op">=</span> <span class="st">"dslite_server"</span>,</span>
<span>               table <span class="op">=</span> <span class="st">"inst_B"</span>, driver <span class="op">=</span> <span class="st">"DSLiteDriver"</span><span class="op">)</span></span>
<span><span class="va">builder</span><span class="op">$</span><span class="fu">append</span><span class="op">(</span>server <span class="op">=</span> <span class="st">"inst_C"</span>, url <span class="op">=</span> <span class="st">"dslite_server"</span>,</span>
<span>               table <span class="op">=</span> <span class="st">"inst_C"</span>, driver <span class="op">=</span> <span class="st">"DSLiteDriver"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Connect and assign data to symbol "D" on each server</span></span>
<span><span class="va">connections</span> <span class="op">&lt;-</span> <span class="fu">datashield.login</span><span class="op">(</span><span class="va">builder</span><span class="op">$</span><span class="fu">build</span><span class="op">(</span><span class="op">)</span>, assign <span class="op">=</span> <span class="cn">TRUE</span>, symbol <span class="op">=</span> <span class="st">"D"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="what-each-institution-sees">What Each Institution Sees<a class="anchor" aria-label="anchor" href="#what-each-institution-sees"></a>
</h3>
<div style="display: flex; gap: 20px; flex-wrap: wrap; justify-content: space-around;">
<div style="flex: 1; min-width: 200px;">
<p><strong>Institution A (Hospital)</strong></p>
<table class="table">
<thead><tr class="header">
<th align="left">patient_id</th>
<th align="right">age</th>
<th align="right">weight</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">PATIENT_00093</td>
<td align="right">49</td>
<td align="right">94.3</td>
</tr>
<tr class="even">
<td align="left">PATIENT_00091</td>
<td align="right">31</td>
<td align="right">92.8</td>
</tr>
<tr class="odd">
<td align="left">PATIENT_00013</td>
<td align="right">52</td>
<td align="right">65.8</td>
</tr>
<tr class="even">
<td align="left">PATIENT_00178</td>
<td align="right">59</td>
<td align="right">54.6</td>
</tr>
<tr class="odd">
<td align="left">PATIENT_00066</td>
<td align="right">52</td>
<td align="right">60.5</td>
</tr>
</tbody>
</table>
</div>
<div style="flex: 1; min-width: 200px;">
<p><strong>Institution B (Clinic)</strong></p>
<table class="table">
<thead><tr class="header">
<th align="left">patient_id</th>
<th align="right">height</th>
<th align="right">bmi</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">PATIENT_00003</td>
<td align="right">159.4</td>
<td align="right">28.2</td>
</tr>
<tr class="even">
<td align="left">PATIENT_00167</td>
<td align="right">167.0</td>
<td align="right">22.4</td>
</tr>
<tr class="odd">
<td align="left">PATIENT_00105</td>
<td align="right">169.5</td>
<td align="right">21.7</td>
</tr>
<tr class="even">
<td align="left">PATIENT_00045</td>
<td align="right">174.3</td>
<td align="right">24.7</td>
</tr>
<tr class="odd">
<td align="left">PATIENT_00132</td>
<td align="right">151.4</td>
<td align="right">32.8</td>
</tr>
</tbody>
</table>
</div>
<div style="flex: 1; min-width: 200px;">
<p><strong>Institution C (Laboratory)</strong></p>
<table class="table">
<thead><tr class="header">
<th align="left">patient_id</th>
<th align="right">glucose</th>
<th align="right">cholesterol</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">PATIENT_00134</td>
<td align="right">136.6</td>
<td align="right">180.9</td>
</tr>
<tr class="even">
<td align="left">PATIENT_00099</td>
<td align="right">131.5</td>
<td align="right">216.2</td>
</tr>
<tr class="odd">
<td align="left">PATIENT_00184</td>
<td align="right">101.7</td>
<td align="right">237.5</td>
</tr>
<tr class="even">
<td align="left">PATIENT_00145</td>
<td align="right">125.6</td>
<td align="right">223.6</td>
</tr>
<tr class="odd">
<td align="left">PATIENT_00041</td>
<td align="right">119.1</td>
<td align="right">223.1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Notice how:</p>
<ul>
<li>Each institution has <strong>different variables</strong>
</li>
<li>The <strong>patient order is different</strong> at each
institution</li>
<li>The same patient (e.g., PATIENT_00093) appears at different row
positions</li>
</ul>
<p>This is realistic: institutions store data independently and don’t
coordinate their internal ordering.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="step-1-validating-identifier-formats">Step 1: Validating Identifier Formats<a class="anchor" aria-label="anchor" href="#step-1-validating-identifier-formats"></a>
</h2>
<p>Before aligning records, we verify that patient identifiers have
consistent formats across all institutions. Common problems include:</p>
<ul>
<li>Different ID formats (e.g., “001” vs “1” vs “P001”)</li>
<li>Leading/trailing whitespace</li>
<li>Missing values or duplicates</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">validation_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ds.validateIdFormat.html">ds.validateIdFormat</a></span><span class="op">(</span></span>
<span>  data_name <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  id_col <span class="op">=</span> <span class="st">"patient_id"</span>,</span>
<span>  datasources <span class="op">=</span> <span class="va">connections</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">validation_result</span></span></code></pre></div>
<pre class="bg-light"><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Identifier Format Validation</span></span>
<span><span class="co">#&gt; ============================</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Overall Status: VALID </span></span>
<span><span class="co">#&gt; Format Consistency: Yes </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Server Details:</span></span>
<span><span class="co">#&gt;  server n_obs n_unique n_missing  id_class</span></span>
<span><span class="co">#&gt;  inst_A   200      200         0 character</span></span>
<span><span class="co">#&gt;  inst_B   200      200         0 character</span></span>
<span><span class="co">#&gt;  inst_C   200      200         0 character</span></span>
<span><span class="co">#&gt;                                                  format_signature</span></span>
<span><span class="co">#&gt;  8d404dbb1d0a33a5bf77b9f34bfabf2e0930831a8dfd5dfa57302c6bbb345ac1</span></span>
<span><span class="co">#&gt;  8d404dbb1d0a33a5bf77b9f34bfabf2e0930831a8dfd5dfa57302c6bbb345ac1</span></span>
<span><span class="co">#&gt;  8d404dbb1d0a33a5bf77b9f34bfabf2e0930831a8dfd5dfa57302c6bbb345ac1</span></span></code></pre>
<p><strong>What we’re looking for:</strong></p>
<ul>
<li>
<strong>n_obs</strong>: Same number of observations across all
institutions</li>
<li>
<strong>n_unique</strong>: Should equal n_obs (no duplicates)</li>
<li>
<strong>n_missing</strong>: Should be 0</li>
<li>
<strong>format_signature</strong>: Should be identical across
institutions</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="step-2-privacy-preserving-record-alignment">Step 2: Privacy-Preserving Record Alignment<a class="anchor" aria-label="anchor" href="#step-2-privacy-preserving-record-alignment"></a>
</h2>
<div class="section level3">
<h3 id="the-problem">The Problem<a class="anchor" aria-label="anchor" href="#the-problem"></a>
</h3>
<p>Even though all institutions have data for the same patients, the
records are in different order. To analyze relationships across
variables (e.g., correlation between age and glucose), we need
corresponding records to be in the same position.</p>
<p><strong>But we cannot simply share patient IDs!</strong> That would
violate privacy.</p>
</div>
<div class="section level3">
<h3 id="the-solution-cryptographic-hashing">The Solution: Cryptographic Hashing<a class="anchor" aria-label="anchor" href="#the-solution-cryptographic-hashing"></a>
</h3>
<p>Instead of sharing actual IDs, we:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Hash all IDs</strong> using SHA-256 (a one-way cryptographic
function)</li>
<li>
<strong>Share only the hashes</strong> - these cannot be reversed to
reveal original IDs</li>
<li>
<strong>Reorder records</strong> at each institution to match a
reference order</li>
</ol>
<table class="table">
<thead><tr class="header">
<th>Original ID</th>
<th>→</th>
<th>SHA-256 Hash</th>
</tr></thead>
<tbody><tr class="odd">
<td><code>PATIENT_00042</code></td>
<td>→</td>
<td>
<code>a7f3b9c2d8e1f4a5...</code> (64 hex chars)</td>
</tr></tbody>
</table>
<p>The hash is shared safely - the original ID cannot be recovered from
it.</p>
</div>
<div class="section level3">
<h3 id="step-2a-get-reference-hashes">Step 2a: Get Reference Hashes<a class="anchor" aria-label="anchor" href="#step-2a-get-reference-hashes"></a>
</h3>
<p>First, we obtain hashed identifiers from one institution (which
becomes our reference):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reference_hashes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ds.hashId.html">ds.hashId</a></span><span class="op">(</span></span>
<span>  data_name <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  id_col <span class="op">=</span> <span class="st">"patient_id"</span>,</span>
<span>  algo <span class="op">=</span> <span class="st">"sha256"</span>,</span>
<span>  datasource <span class="op">=</span> <span class="va">connections</span><span class="op">[</span><span class="st">"inst_A"</span><span class="op">]</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>We retrieved 200 hashed identifiers.</p>
</div>
<div class="section level3">
<h3 id="step-2b-align-all-institutions">Step 2b: Align All Institutions<a class="anchor" aria-label="anchor" href="#step-2b-align-all-institutions"></a>
</h3>
<p>Now we send the reference hashes to all institutions. Each
institution:</p>
<ol style="list-style-type: decimal">
<li>Computes hashes of its own IDs</li>
<li>Reorders its records to match the reference hash order</li>
<li>Removes any records not in the reference set</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ds.alignRecords.html">ds.alignRecords</a></span><span class="op">(</span></span>
<span>  data_name <span class="op">=</span> <span class="st">"D"</span>,</span>
<span>  id_col <span class="op">=</span> <span class="st">"patient_id"</span>,</span>
<span>  reference_hashes <span class="op">=</span> <span class="va">reference_hashes</span><span class="op">$</span><span class="va">hashes</span>,</span>
<span>  newobj <span class="op">=</span> <span class="st">"D_aligned"</span>,</span>
<span>  datasources <span class="op">=</span> <span class="va">connections</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="verifying-alignment">Verifying Alignment<a class="anchor" aria-label="anchor" href="#verifying-alignment"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">alignment_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">connections</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">inst</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">count_result</span> <span class="op">&lt;-</span> <span class="fu">DSI</span><span class="fu">::</span><span class="fu"><a href="https://datashield.github.io/DSI/reference/datashield.aggregate.html" class="external-link">datashield.aggregate</a></span><span class="op">(</span></span>
<span>    <span class="va">connections</span><span class="op">[</span><span class="va">inst</span><span class="op">]</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/call.html" class="external-link">call</a></span><span class="op">(</span><span class="st">"getObsCountDS"</span>, <span class="st">"D_aligned"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">count_result</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">n_obs</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Institution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">alignment_counts</span><span class="op">)</span>, Records <span class="op">=</span> <span class="va">alignment_counts</span>, row.names <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
<pre class="bg-light"><code><span><span class="co">#&gt;   Institution Records</span></span>
<span><span class="co">#&gt; 1      inst_A     200</span></span>
<span><span class="co">#&gt; 2      inst_B     200</span></span>
<span><span class="co">#&gt; 3      inst_C     200</span></span></code></pre>
<p>All institutions now have:</p>
<ul>
<li>The <strong>same number of records</strong>
</li>
<li>Records in the <strong>same order</strong> (corresponding to the
same patients)</li>
<li>Ready for <strong>cross-institutional analysis</strong>
</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<p>Now that records are aligned, we can perform statistical
analyses:</p>
<ul>
<li>
<a href="b-statistical-analysis.html"><strong>Statistical
Analysis</strong></a>: Correlation, PCA, and GLMs</li>
<li>
<a href="c-methodology.html"><strong>Methodology</strong></a>:
Mathematical details behind the algorithms</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

<div class="pkgdown-footer-right">

</div>

    </footer>
</div>





  </body>
</html>
