[{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"vertical-partitioning","dir":"Articles","previous_headings":"","what":"Vertical Partitioning","title":"Getting Started with dsVertClient","text":"vertically partitioned setting, different institutions hold different variables set patients. shared patient identifier links records across sites, single institution access complete variable set. dsVertClient extends DataSHIELD run privacy-preserving statistical methods across disjoint columns without ever centralising raw data. goal analyse combined variable space across three institutions without sharing raw data.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"connect-to-opal-servers","dir":"Articles","previous_headings":"","what":"Connect to Opal Servers","title":"Getting Started with dsVertClient","text":"Build login data frame containing URL, credentials, table reference Opal server, call datashield.login() open connections assign table server-side symbol called \"D\".","code":"library(dsVertClient) library(DSI) library(DSOpal)  builder <- DSI::newDSLoginBuilder() builder$append(server = \"server1\", url = \"https://opal1.example.org\",                table = \"project.server1_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\") builder$append(server = \"server2\", url = \"https://opal2.example.org\",                table = \"project.server2_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\") builder$append(server = \"server3\", url = \"https://opal3.example.org\",                table = \"project.server3_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\")  connections <- datashield.login(builder$build(), assign = TRUE, symbol = \"D\") Logging into the collaborating servers"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"align-records","dir":"Articles","previous_headings":"","what":"Align Records","title":"Getting Started with dsVertClient","text":"Records across servers stored different row orders. ds.psiAlign() uses ECDH-based Private Set Intersection (PSI) protocol determine common set patient identifiers reorder every server row position corresponds patient. server masks identifiers secret elliptic-curve scalar; client sees opaque curve points recover original identifiers.","code":"ds.psiAlign(\"D\", \"patient_id\", \"D_aligned\", datasources = connections) Server 'server1': 50 of 50 records matched (100.0%) Server 'server2': 50 of 50 records matched (100.0%) Server 'server3': 50 of 50 records matched (100.0%)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"quick-preview","dir":"Articles","previous_headings":"","what":"Quick Preview","title":"Getting Started with dsVertClient","text":"records aligned, compute cross-server correlation matrix verify data accessible alignment correct. analyst specifies variables reside server.","code":"x_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\", \"bp\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  cor_result <- ds.vertCor(\"D_aligned\", x_vars, datasources = connections) round(cor_result$correlation, 2) ##             age   bmi glucose    bp cholesterol heart_rate ## age        1.00 -0.32   -0.10  0.01       0.22      -0.09 ## bmi       -0.32  1.00   -0.09  0.23      -0.02       0.31 ## glucose   -0.10 -0.09    1.00 -0.04      -0.00       0.13 ## bp         0.01  0.23   -0.04  1.00      -0.05       0.24 ## cholesterol 0.22 -0.02  -0.00 -0.05       1.00      -0.24 ## heart_rate -0.09  0.31    0.13  0.24      -0.24       1.00"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"disconnect","dir":"Articles","previous_headings":"","what":"Disconnect","title":"Getting Started with dsVertClient","text":"Always close server connections analysis session finished.","code":"datashield.logout(connections)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with dsVertClient","text":"companion vignettes cover full workflow detail: Statistical Analysis â€“ correlation, PCA, GLM examples interpretation guidance: vignette(\"b-statistical-analysis\") Methodology â€“ mathematical foundations Block Coordinate Descent, MHE threshold decryption, security model: vignette(\"c-methodology\") Validation â€“ empirical validation accuracy guarantees: vignette(\"d-validation\") Security â€“ threat model privacy analysis: vignette(\"e-security\")","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"setup","dir":"Articles","previous_headings":"","what":"Setup","title":"Statistical Analysis","text":"Load packages, connect three Opal servers, align records server-side symbol D_aligned. details step, see Getting Started vignette. records aligned, three servers hold following variables:","code":"library(dsVertClient) library(DSI) library(DSOpal)  builder <- DSI::newDSLoginBuilder() builder$append(server = \"server1\", url = \"https://opal1.example.org\",                table = \"project.server1_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\") builder$append(server = \"server2\", url = \"https://opal2.example.org\",                table = \"project.server2_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\") builder$append(server = \"server3\", url = \"https://opal3.example.org\",                table = \"project.server3_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\")  connections <- datashield.login(builder$build(), assign = TRUE, symbol = \"D\") ds.psiAlign(\"D\", \"patient_id\", \"D_aligned\", datasources = connections)"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"computing-the-correlation-matrix","dir":"Articles","previous_headings":"Correlation Analysis","what":"Computing the Correlation Matrix","title":"Statistical Analysis","text":"Cross-server correlations computed using Multiparty Homomorphic Encryption (MHE). server encrypts standardized columns collective public key, cross-products computed encrypted data. Within-server correlations computed plaintext (exact). See Methodology vignette full protocol. Define variables reside server call ds.vertCor. Observations: BMI heart_rate show strongest positive correlation (0.31), spanning server1 server3 â€“ relationship neither institution discover alone. Age BMI negatively correlated (-0.32). Cross-server correlations carry CKKS approximation error order 10^-4, negligible interpretation.","code":"x_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\", \"bp\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  cor_result <- ds.vertCor(\"D_aligned\", x_vars, datasources = connections) round(cor_result$correlation, 4)"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"principal-component-analysis","dir":"Articles","previous_headings":"","what":"Principal Component Analysis","title":"Statistical Analysis","text":"PCA computed distributed correlation matrix. Since eigen decomposition deterministic operation correlation matrix, runs entirely client side ds.vertCor produced matrix. run PCA five predictor variables (excluding outcome variable bp). Compute correlation matrix predictors , pass ds.vertPCA.","code":"pca_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  cor_pca <- ds.vertCor(\"D_aligned\", pca_vars, datasources = connections) pca_result <- ds.vertPCA(cor_result = cor_pca, n_components = 5) pca_result"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"variance-explained","dir":"Articles","previous_headings":"Principal Component Analysis","what":"Variance Explained","title":"Statistical Analysis","text":"PC1 PC2 together explain 54% total variance. five eigenvalues relatively close magnitude, indicating single component dominates variance structure.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"loadings","dir":"Articles","previous_headings":"Principal Component Analysis","what":"Loadings","title":"Statistical Analysis","text":"PC1 captures contrast age cholesterol (positive loadings) one side, bmi heart_rate (negative loadings) . first component separates patients higher age cholesterol higher bmi heart_rate, combining information three servers. PC2 dominated glucose (loading -0.81), effectively isolating metabolic measurement predictors.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"generalized-linear-models","dir":"Articles","previous_headings":"","what":"Generalized Linear Models","title":"Statistical Analysis","text":"ds.vertGLM function fits GLMs across vertically partitioned data using encrypted-label Block Coordinate Descent Iteratively Reweighted Least Squares (BCD-IRLS) protocol. response variable y needs exist one server (â€œlabel serverâ€). servers compute gradient contributions using y encrypted MHE collective public key. Raw data intermediate coefficients never leave respective institutions.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"supported-families","dir":"Articles","previous_headings":"Generalized Linear Models","what":"Supported Families","title":"Statistical Analysis","text":"families use ds.vertGLM interface; family argument changes.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"gaussian-glm","dir":"Articles","previous_headings":"Generalized Linear Models","what":"Gaussian GLM","title":"Statistical Analysis","text":"Predict blood pressure (continuous outcome server2) five predictors spread across three servers. Coefficients: Fit statistics: model explains 9.3% deviance blood pressure. Consistent correlation analysis, bmi (0.54) heart_rate (0.28) strongest predictors. Age small positive effect (0.07), glucose cholesterol contribute minimally.","code":"x_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  model_gaussian <- ds.vertGLM(   \"D_aligned\",   y_var = \"bp\",   x_vars = x_vars,   y_server = \"server2\",   family = \"gaussian\",   datasources = connections ) summary(model_gaussian) Deviance:          8199.0731 Null deviance:     9034.3400 Pseudo R-squared:  0.0925 Converged:         TRUE (6 iterations)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"binomial-glm","dir":"Articles","previous_headings":"Generalized Linear Models","what":"Binomial GLM","title":"Statistical Analysis","text":"Predict hypertension status (binary outcome server2) using set predictors. encrypted-label protocol protects response fitting. Coefficients (log-odds scale): Fit statistics: log-odds scale, bmi (0.049) heart_rate (0.035) strongest predictors, consistent Gaussian model. pseudo R-squared 0.053 indicates modest predictive power hypertension classification.","code":"model_binomial <- ds.vertGLM(   \"D_aligned\",   y_var = \"hypertension\",   x_vars = x_vars,   y_server = \"server2\",   family = \"binomial\",   datasources = connections ) summary(model_binomial) Deviance:          65.6153 Null deviance:     69.3147 Pseudo R-squared:  0.0534 Converged:         TRUE (7 iterations)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"poisson-glm","dir":"Articles","previous_headings":"Generalized Linear Models","what":"Poisson GLM","title":"Statistical Analysis","text":"Model number visits (count outcome server2) predictors. Coefficients (log scale): Fit statistics: Poisson model highest pseudo R-squared (0.178) three models fitted. Glucose heart_rate small positive effects expected visit count, age bmi small negative effects. model required 10 iterations converge, Gaussian (6) binomial (7), typical count data.","code":"model_poisson <- ds.vertGLM(   \"D_aligned\",   y_var = \"visits\",   x_vars = x_vars,   y_server = \"server2\",   family = \"poisson\",   datasources = connections ) summary(model_poisson) Deviance:          60.6546 Null deviance:     73.7885 Pseudo R-squared:  0.1780 Converged:         TRUE (10 iterations)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"other-families","dir":"Articles","previous_headings":"Generalized Linear Models","what":"Other Families","title":"Statistical Analysis","text":"Gamma inverse Gaussian families use ds.vertGLM interface. appropriate positive continuous response variables. Specify family = \"Gamma\" family = \"inverse.gaussian\" ensure response variable contains strictly positive values. log link used default families.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"cleanup","dir":"Articles","previous_headings":"","what":"Cleanup","title":"Statistical Analysis","text":"Close server connections analysis complete.","code":"datashield.logout(connections)"},{"path":[]},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"ckks-scheme","dir":"Articles","previous_headings":"Multiparty Homomorphic Encryption for Correlation","what":"CKKS Scheme","title":"Methodology","text":"protocol uses CKKS scheme (Cheonâ€“Kimâ€“Kimâ€“Song), homomorphic encryption scheme designed approximate arithmetic real numbers. CKKS operates polynomial ring R=â„¤[X]/(XN+1),N=2ðš•ðš˜ðš_ðš—R = \\mathbb{Z}[X] / (X^N + 1), \\quad N = 2^{\\texttt{log\\_n}} log_n parameter controls ring dimension. scheme four properties make well suited distributed correlation: SIMD encoding. single ciphertext packs N/2N/2 real-valued slots. log_n = 12 (N=4096N = 4096), ciphertext holds 2048 values, entire column observations fits one ciphertext. Approximate arithmetic. Additions multiplications encrypted data introduce small rounding errors, typically order 10âˆ’410^{-4}. negligible statistical correlation. Security. scheme based Ring Learning Errors (RLWE) problem, believed hard even quantum computers (post-quantum candidate). Efficient batching. Element-wise operations full vectors execute single homomorphic operation, avoiding per-element overhead.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"threshold-decryption","dir":"Articles","previous_headings":"Multiparty Homomorphic Encryption for Correlation","what":"Threshold Decryption","title":"Methodology","text":"Rather entrusting single party secret key, MHE protocol uses additive secret sharing. collective secret key sum KK individual shares: sk=sk1+sk2+â€¦+skKsk = sk_1 + sk_2 + \\ldots + sk_K single party holds sksk. Decryption requires KK parties provide partial decryption shares. Even Kâˆ’1K - 1 colluding parties decrypt ciphertext without remaining partyâ€™s cooperation.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"phase-protocol","dir":"Articles","previous_headings":"Multiparty Homomorphic Encryption for Correlation","what":"6-Phase Protocol","title":"Methodology","text":"correlation computation proceeds six phases, mapped specific server-side function: Phase 1. party kk independently generates secret key share skksk_k. Party 0 additionally generates Common Reference Polynomial aa, uniformly random element polynomial ring shared parties. party computes public key share: pkk=(âˆ’â‹…skk+ek,)pk_k = (-\\cdot sk_k + e_k, \\; ) eke_k small error polynomial sampled discrete Gaussian distribution. CRP aa distributed parties generate compatible key material. Phase 2. individual public key shares combined Collective Public Key: CPK=âˆ‘k=1KpkkCPK = \\sum_{k=1}^{K} pk_k Data encrypted CPK can decrypted KK parties cooperate. Galois keys (rotation keys) similarly aggregated. relinearization keys generated, protocol requires plaintext Ã—\\times ciphertext multiplication (see ). Phase 3. institution kk standardizes columns Z-scores (mean 0, standard deviation 1) encrypts column vector zjz_j CPK. SIMD encoding packs full nn-length column single ciphertext. Phase 4. Within-server correlations computed plaintext since data needs leave server: Rkk=cor(Zk)R_{kk} = \\text{cor}(Z_k) encryption overhead incurred diagonal blocks. Phase 5. pair institutions (,B)(, B), institution AA multiplies plaintext column zA,iz_{,} encrypted column institution BB: zA,â‹…Enc(zB,j)=Enc(zA,âŠ™zB,j)z_{,} \\cdot \\text{Enc}(z_{B,j}) = \\text{Enc}(z_{,} \\odot z_{B,j}) encrypted product threshold-decrypted: party kk computes partial decryption share sharek=âˆ’skkâ‹…ct[1]+ekâ€²\\text{share}_k = -sk_k \\cdot ct[1] + e_k' (ekâ€²e_k' smudging noise term). client fuses shares: mâ‰ˆct[0]+âˆ‘k=1Ksharekm \\approx ct[0] + \\sum_{k=1}^{K} \\text{share}_k Phase 6. client sums first nn slots recovered plaintext obtain inner product, divides (nâˆ’1)(n - 1): rij=âˆ‘l=1n(zA,âŠ™zB,j)lnâˆ’1r_{ij} = \\frac{\\sum_{l=1}^{n} (z_{,} \\odot z_{B,j})_l}{n - 1} full correlation matrix assembled exact diagonal blocks (Phase 4) approximate -diagonal blocks (Phase 5, CKKS error order 10âˆ’410^{-4}).","code":"result <- ds.vertCor(   data_name = \"D_aligned\",   variables = list(server1 = c(\"age\", \"bmi\"), server2 = c(\"glucose\")),   log_n = 12,   log_scale = 40,   datasources = connections )"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"plaintext-x-ciphertext-design-choice","dir":"Articles","previous_headings":"Multiparty Homomorphic Encryption for Correlation","what":"Plaintext x Ciphertext Design Choice","title":"Methodology","text":"critical design decision homomorphic computation limited plaintext Ã—\\times ciphertext multiplication. three consequences: Degree stays 1. plaintext--ciphertext product keeps ciphertext degree 1, relinearization keys needed. Minimal noise growth. Without ciphertext-ciphertext multiplication, noise budget consumed slowly. Protocol simplicity. evaluation keys, relinearization rounds, bootstrapping. collective key material needed CPK Galois keys (slot rotations GLM gradient protocol). works institution AA holds data plaintext institutionâ€™s data encrypted. element-wise product zA,â‹…Enc(zB,j)z_{,} \\cdot \\text{Enc}(z_{B,j}) exactly plaintext-ciphertext case.","code":""},{"path":[]},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"vertical-decomposition","dir":"Articles","previous_headings":"Encrypted-Label BCD-IRLS for GLMs","what":"Vertical Decomposition","title":"Methodology","text":"Generalized Linear Model relates response yy predictors XX g(Î¼)=Î·=XÎ²g(\\mu) = \\eta = X\\beta, g(â‹…)g(\\cdot) link function, Î¼=E[y]\\mu = E[y], Î·\\eta linear predictor. vertically partitioned data, linear predictor decomposes: Î·=X1Î²1+X2Î²2+â€¦+XKÎ²K\\eta = X_1\\beta_1 + X_2\\beta_2 + \\ldots + X_K\\beta_K","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"key-mathematical-insight","dir":"Articles","previous_headings":"Encrypted-Label BCD-IRLS for GLMs","what":"Key Mathematical Insight","title":"Methodology","text":"IRLS update block kk : Î²knew=(XkTWXk+Î»I)âˆ’1XkTW(zâˆ’Î·âˆ’k)\\beta_k^{\\text{new}} = (X_k^T W X_k + \\lambda )^{-1} \\, X_k^T W (z - \\eta_{-k}) Decomposing right-hand side: XkTW(zâˆ’Î·âˆ’k)=XkTWXkÎ²k+gkX_k^T W (z - \\eta_{-k}) = X_k^T W X_k \\, \\beta_k + g_k gk=XkTug_k = X_k^T u u=vâŠ™(yâˆ’Î¼)u = v \\odot (y - \\mu). canonical links (Gaussian, Binomial, Poisson), v=1v = 1, u=yâˆ’Î¼u = y - \\mu. key insight gk=XkTug_k = X_k^T u depends yy; everything else (Î¼\\mu, WW) computable Î·\\eta alone. Furthermore, gkg_k length pkp_k (number features server kk), length nn (number observations). Therefore pkp_k-dimensional gradient needs decrypted via threshold decryption, rather full nn-dimensional residual vector. Since typically pkâ‰ªnp_k \\ll n, dramatically reduces information revealed decryption.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"encrypted-protocol","dir":"Articles","previous_headings":"Encrypted-Label BCD-IRLS for GLMs","what":"Encrypted Protocol","title":"Methodology","text":"encrypted-label BCD-IRLS protocol proceeds follows: label server encrypts yy CPK, producing ctyct_y. ciphertext distributed non-label servers. ctyct_y distributed non-label servers via chunked transfer protocol. non-label server kk computes: ctu=ctyâˆ’encode(Î¼)ct_u = ct_y - \\text{encode}(\\mu), gk[j]=InnerSum(encode(xj)â‹…ctu)g_k[j] = \\text{InnerSum}(\\text{encode}(x_j) \\cdot ct_u) feature jj. InnerSum operation uses Galois rotations sum nn SIMD slots single scalar, collapsing nn individual-level products one aggregate inside encrypted domain. Threshold decrypt gkg_k (length pkp_k). KK servers provides partial decryption share; client fuses shares recover plaintext gradient. Server kk solves: Î²knew=(XkTWXk+Î»I)âˆ’1(XkTWXkÎ²k+gk)\\beta_k^{\\text{new}} = (X_k^T W X_k + \\lambda )^{-1} (X_k^T W X_k \\, \\beta_k + g_k) label server uses standard IRLS plaintext yy; encryption needed block.","code":"model <- ds.vertGLM(   data_name = \"D_aligned\",   y_var = \"bp\",   x_vars = list(server1 = c(\"age\", \"bmi\"), server2 = c(\"glucose\"),                 server3 = c(\"cholesterol\", \"heart_rate\")),   y_server = \"server2\",   family = \"gaussian\",   datasources = connections )"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"feature-standardization","dir":"Articles","previous_headings":"Encrypted-Label BCD-IRLS for GLMs","what":"Feature Standardization","title":"Methodology","text":"Features automatically standardized (centered scaled) server BCD ensure fast convergence. Without standardization, correlated features cause slow convergence contraction rates near 0.98. standardization, BCD algorithm converges 6â€“12 iterations. convergence, coefficients transformed back original scale: Gaussian family. features response standardized. Î²orig[j]=Î²std[j]Ã—Ïƒy/Ïƒxj\\beta_{\\text{orig}}[j] = \\beta_{\\text{std}}[j] \\times \\sigma_y / \\sigma_{x_j}. intercept Î²0=yâ€¾âˆ’âˆ‘jÎ²orig[j]xâ€¾j\\beta_0 = \\bar{y} - \\sum_j \\beta_{\\text{orig}}[j] \\, \\bar{x}_j. Non-Gaussian families. features standardized; yy remains original scale. Î²orig[j]=Î²std[j]/Ïƒxj\\beta_{\\text{orig}}[j] = \\beta_{\\text{std}}[j] / \\sigma_{x_j}. intercept recovered label serverâ€™s IRLS, adjusted centering: Î²0=Î²0,stdâˆ’âˆ‘jÎ²orig[j]xâ€¾j\\beta_0 = \\beta_{0,\\text{std}} - \\sum_j \\beta_{\\text{orig}}[j] \\, \\bar{x}_j.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"irls-family-table","dir":"Articles","previous_headings":"Encrypted-Label BCD-IRLS for GLMs","what":"IRLS Family Table","title":"Methodology","text":"three canonical-link families (Gaussian, Binomial, Poisson), v=1v = 1. simplifies encrypted computation XkT(ctyâˆ’Î¼)X_k^T (ct_y - \\mu), eliminating need encode multiply separate vv vector.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"deviance","dir":"Articles","previous_headings":"Encrypted-Label BCD-IRLS for GLMs","what":"Deviance","title":"Methodology","text":"Deviance computed label server, plaintext yy receives final total linear predictor Î·total\\eta_{\\text{total}}. Standard formulas: McFaddenâ€™s pseudo R2R^2 1âˆ’Dmodel/Dnull1 - D_{\\text{model}} / D_{\\text{null}}, AIC D+2kD + 2k kk number parameters.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"record-alignment","dir":"Articles","previous_headings":"","what":"Record Alignment","title":"Methodology","text":"statistical computation, records across servers must aligned row position corresponds individual. dsVertClient uses Elliptic-Curve Diffieâ€“Hellman Private Set Intersection (ECDH-PSI) protocol privacy-preserving record linkage.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"ecdh-psi-protocol","dir":"Articles","previous_headings":"Record Alignment","what":"ECDH-PSI Protocol","title":"Methodology","text":"server kk draws secret scalar Î±k\\alpha_k uniformly random P-256 curve order keeps permanently server. protocol exploits commutativity scalar multiplication elliptic curves: Î±â‹…(Î²â‹…H(id))=Î²â‹…(Î±â‹…H(id))\\alpha \\cdot (\\beta \\cdot H(\\text{id})) = \\beta \\cdot (\\alpha \\cdot H(\\text{id})) H(id)H(\\text{id}) maps patient identifier point NIST P-256 curve using hash--curve (RFC 9380). alignment proceeds three rounds: Mask. server kk computes Î±kâ‹…H(id)\\alpha_k \\cdot H(\\text{id}) every identifier local table sends resulting curve points client. Double-mask. client forwards server AAâ€™s masked points server BB (vice versa). server applies scalar serverâ€™s points, producing doubly-masked points Î±Bâ‹…(Î±Aâ‹…H(id))\\alpha_B \\cdot (\\alpha_A \\cdot H(\\text{id})) Î±Aâ‹…(Î±Bâ‹…H(id))\\alpha_A \\cdot (\\alpha_B \\cdot H(\\text{id})). commutativity equal identifier. Intersect reorder. client matches doubly-masked points across servers find common identifiers instructs server reorder rows accordingly. client sees opaque elliptic-curve points every stage invert recover original identifiers. Security holds Decisional Diffieâ€“Hellman (DDH) assumption semi-honest model.","code":"ds.psiAlign(\"D\", \"patient_id\", \"D_aligned\", datasources = connections)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Methodology","text":"Cheon, J.H., Kim, ., Kim, M. & Song, Y. (2017). â€œHomomorphic Encryption Arithmetic Approximate Numbersâ€. ASIACRYPT 2017. doi:10.1007/978-3-319-70694-8_15 Mouchet, C., Troncoso-Pastoriza, J., Bossuat, J.P. & Hubaux, J.P. (2021). â€œMultiparty Homomorphic Encryption Ring-Learning--Errorsâ€. Proceedings Privacy Enhancing Technologies (PETS) 2021. doi:10.2478/popets-2021-0071 van Kesteren, E.J., Hausknecht, D. & Bos, . (2019). â€œPrivacy-Preserving Generalized Linear Models Using Distributed Block Coordinate Descentâ€. arXiv:1911.03183. arxiv.org/abs/1911.03183 Lattigo v6. Tune Insight SA. github.com/tuneinsight/lattigo","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Validation","text":"vignette validates distributed analysis pipeline implemented dsVertClient comparing standard local analysis data pooled one place. distributed protocol correct, scenarios produce nearly identical results, differing small approximation error inherent CKKS homomorphic encryption L2 regularisation used distributed GLM. data split across three servers follows:","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"scenario-1-local-analysis","dir":"Articles","previous_headings":"","what":"Scenario 1: Local Analysis","title":"Validation","text":"scenario download raw data three servers, merge patient_id, run standard R functions. serves ground truth distributed results compared.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"data","dir":"Articles","previous_headings":"Scenario 1: Local Analysis","what":"Data","title":"Validation","text":"","code":"library(opalr)  o1 <- opal.login(\"administrator\", \"admin123\", url = \"https://opal1.example.org\") d1 <- opal.table_get(o1, \"project\", \"server1_data\") opal.logout(o1)  o2 <- opal.login(\"administrator\", \"admin123\", url = \"https://opal2.example.org\") d2 <- opal.table_get(o2, \"project\", \"server2_data\") opal.logout(o2)  o3 <- opal.login(\"administrator\", \"admin123\", url = \"https://opal3.example.org\") d3 <- opal.table_get(o3, \"project\", \"server3_data\") opal.logout(o3)  merged <- merge(merge(d1, d2, by = \"patient_id\"), d3, by = \"patient_id\")"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"local-correlation","dir":"Articles","previous_headings":"Scenario 1: Local Analysis","what":"Local Correlation","title":"Validation","text":"","code":"vars <- c(\"age\", \"bmi\", \"glucose\", \"cholesterol\", \"heart_rate\", \"bp\") local_cor <- cor(merged[, vars]) round(local_cor, 4)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"local-pca","dir":"Articles","previous_headings":"Scenario 1: Local Analysis","what":"Local PCA","title":"Validation","text":"","code":"pca_vars <- c(\"age\", \"bmi\", \"glucose\", \"cholesterol\", \"heart_rate\") local_pca <- prcomp(merged[, pca_vars], scale. = TRUE) summary(local_pca)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"local-glms","dir":"Articles","previous_headings":"Scenario 1: Local Analysis","what":"Local GLMs","title":"Validation","text":"Three GLMs fitted locally merged data, one supported family. five predictors used models. Gaussian coefficients: Binomial coefficients: Poisson coefficients:","code":"fit_gaussian <- glm(bp ~ age + bmi + glucose + cholesterol + heart_rate,                     data = merged, family = gaussian()) fit_binomial <- glm(hypertension ~ age + bmi + glucose + cholesterol + heart_rate,                     data = merged, family = binomial()) fit_poisson <- glm(visits ~ age + bmi + glucose + cholesterol + heart_rate,                    data = merged, family = poisson())"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"scenario-2-distributed-analysis","dir":"Articles","previous_headings":"","what":"Scenario 2: Distributed Analysis","title":"Validation","text":"scenario data never leaves three Opal servers. computations performed using dsVertClient functions, rely MHE threshold decryption correlation PCA, Block Coordinate Descent GLM.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"connect-and-align","dir":"Articles","previous_headings":"Scenario 2: Distributed Analysis","what":"Connect and Align","title":"Validation","text":"","code":"library(dsVertClient) library(DSI) library(DSOpal)  builder <- DSI::newDSLoginBuilder() builder$append(server = \"server1\", url = \"https://opal1.example.org\",                table = \"project.server1_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\") builder$append(server = \"server2\", url = \"https://opal2.example.org\",                table = \"project.server2_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\") builder$append(server = \"server3\", url = \"https://opal3.example.org\",                table = \"project.server3_data\", user = \"analyst\",                password = \"password\", driver = \"OpalDriver\")  connections <- datashield.login(builder$build(), assign = TRUE, symbol = \"D\") ds.psiAlign(\"D\", \"patient_id\", \"D_aligned\", datasources = connections)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"distributed-correlation","dir":"Articles","previous_headings":"Scenario 2: Distributed Analysis","what":"Distributed Correlation","title":"Validation","text":"","code":"x_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\", \"bp\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  cor_dist <- ds.vertCor(\"D_aligned\", x_vars, datasources = connections) round(cor_dist$correlation, 4)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"distributed-pca","dir":"Articles","previous_headings":"Scenario 2: Distributed Analysis","what":"Distributed PCA","title":"Validation","text":"","code":"pca_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  cor_pca <- ds.vertCor(\"D_aligned\", pca_vars, datasources = connections) pca_dist <- ds.vertPCA(cor_result = cor_pca, n_components = 5) pca_dist"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"distributed-glms","dir":"Articles","previous_headings":"Scenario 2: Distributed Analysis","what":"Distributed GLMs","title":"Validation","text":"Distributed Gaussian coefficients: Distributed Binomial coefficients: Distributed Poisson coefficients:","code":"x_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  model_gaussian <- ds.vertGLM(   \"D_aligned\",   y_var = \"bp\",   x_vars = x_vars,   y_server = \"server2\",   family = \"gaussian\",   datasources = connections ) round(coef(model_gaussian), 4) model_binomial <- ds.vertGLM(   \"D_aligned\",   y_var = \"hypertension\",   x_vars = x_vars,   y_server = \"server2\",   family = \"binomial\",   datasources = connections ) round(coef(model_binomial), 4) model_poisson <- ds.vertGLM(   \"D_aligned\",   y_var = \"visits\",   x_vars = x_vars,   y_server = \"server2\",   family = \"poisson\",   datasources = connections ) round(coef(model_poisson), 4)"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"correlation-comparison","dir":"Articles","previous_headings":"Comparison","what":"Correlation Comparison","title":"Validation","text":"Within-server correlations computed plaintext therefore exact. Cross-server correlations computed via MHE threshold decryption using CKKS approximate encryption scheme. following table compares key cross-server pairs. Maximum absolute error: 0.0001. Within-server correlations exact; cross-server differences arise CKKS approximate arithmetic.","code":"diff_cor <- local_cor - cor_dist$correlation[rownames(local_cor), colnames(local_cor)] round(diff_cor, 4)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"pca-comparison","dir":"Articles","previous_headings":"Comparison","what":"PCA Comparison","title":"Validation","text":"PCA computed via eigen decomposition correlation matrix, errors propagated correlation differences. Maximum absolute eigenvalue difference approximately 10^-4.","code":"data.frame(   Component = paste0(\"PC\", 1:5),   Local = round(local_pca$sdev^2, 4),   Distributed = round(pca_dist$eigenvalues, 4),   Difference = round(local_pca$sdev^2 - pca_dist$eigenvalues, 4) )"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"glm-comparison","dir":"Articles","previous_headings":"Comparison","what":"GLM Comparison","title":"Validation","text":"GLM family, coefficients local fit distributed fit compared. distributed GLM uses Block Coordinate Descent L2 regularisation (lambda = 1e-4), introduces small systematic bias toward zero. Gaussian: Binomial: Poisson:","code":"data.frame(   Coefficient = names(coef(fit_gaussian)),   Local = round(coef(fit_gaussian), 4),   Distributed = round(coef(model_gaussian), 4),   Difference = round(coef(fit_gaussian) - coef(model_gaussian), 4) ) data.frame(   Coefficient = names(coef(fit_binomial)),   Local = round(coef(fit_binomial), 4),   Distributed = round(coef(model_binomial), 4),   Difference = round(coef(fit_binomial) - coef(model_binomial), 4) ) data.frame(   Coefficient = names(coef(fit_poisson)),   Local = round(coef(fit_poisson), 4),   Distributed = round(coef(model_poisson), 4),   Difference = round(coef(fit_poisson) - coef(model_poisson), 4) )"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"error-summary","dir":"Articles","previous_headings":"","what":"Error Summary","title":"Validation","text":"distributed results match local R analysis high accuracy. Small differences arise three independent sources: CKKS approximation error â€“ homomorphic encryption scheme used cross-server correlation encodes real numbers finite precision. default log_scale = 40, individual operations carry approximately 12 decimal digits precision, accumulation additions inner product results final errors around 10^-4 typical sample sizes. L2 regularisation â€“ BCD algorithm adds small ridge penalty (lambda = 1e-4) diagonal blockâ€™s cross-product matrix. prevents singular near-singular systems iterative updates introduces small systematic bias toward zero. BCD convergence tolerance â€“ iterative solver terminates relative change coefficients falls threshold, leaving residual optimisation error negligible practice.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/d-validation.html","id":"cleanup","dir":"Articles","previous_headings":"","what":"Cleanup","title":"Validation","text":"","code":"datashield.logout(connections)"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Security Model","text":"dsVertClient uses Multiparty Homomorphic Encryption (MHE) based CKKS scheme protect data distributed computation. vignette describes threat model, participant learns, security guarantees.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"threat-model","dir":"Articles","previous_headings":"","what":"Threat Model","title":"Security Model","text":"protocol assumes semi-honest (honest--curious) adversary model: parties follow protocol correctly Parties may attempt infer information messages receive party intentionally sends corrupted data deviates protocol standard model federated analytics healthcare research settings, institutions contractually obligated follow protocols may curious othersâ€™ data.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"correlation-analysis","dir":"Articles","previous_headings":"What MHE Protects","what":"Correlation Analysis","title":"Security Model","text":"distributed correlation, cross-server products computed encrypted data. server encrypts standardized columns collective public key (CPK). single server can decrypt ciphertexts.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"glm-with-encrypted-labels","dir":"Articles","previous_headings":"What MHE Protects","what":"GLM with Encrypted Labels","title":"Security Model","text":"response variable y never leaves label server plaintext. Non-label servers compute gradient contributions using encrypted y.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"what-the-client-sees","dir":"Articles","previous_headings":"","what":"What the Client Sees","title":"Security Model","text":"client (researcher coordinating analysis) receives: Collective Public Key (CPK) â€“ decrypt anything alone Encrypted ciphertexts â€“ opaque blobs, undecryptable without K secret key shares Partial decryption shares â€“ share individually reveals nothing Final aggregated results â€“ correlation coefficients, GLM coefficients, deviance client see: Individual-level data server Raw feature values Response variable values Residuals per-observation predictions","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"threshold-property","dir":"Articles","previous_headings":"","what":"Threshold Property","title":"Security Model","text":"Decryption requires cooperation K parties. collective secret key additively shared: sk=sk1+sk2+â€¦+skKsk = sk_1 + sk_2 + \\ldots + sk_K party k computes partial decryption share using sk_k. K shares combined can ciphertext decrypted. K--K threshold scheme: every party must participate.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"collusion-resistance","dir":"Articles","previous_headings":"","what":"Collusion Resistance","title":"Security Model","text":"Even K-1 servers collude (share secret key shares), decrypt ciphertext without remaining serverâ€™s share. RLWE assumption guarantees partial information K-1 shares computationally indistinguishable random noise. Example 3 servers: Servers 1 2 collude: hold sk_1 + sk_2, need sk_3 Servers 1 3 collude: hold sk_1 + sk_3, need sk_2 3 cooperate: sk_1 + sk_2 + sk_3 = sk, decryption succeeds","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"what-is-revealed","dir":"Articles","previous_headings":"","what":"What IS Revealed","title":"Security Model","text":"following aggregate statistics revealed client: summary statistics n observations. directly reveal individual data points. However, statistical release, care taken small samples highly identifying variable combinations.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"psi-alignment-security","dir":"Articles","previous_headings":"","what":"PSI Alignment Security","title":"Security Model","text":"Record alignment uses ECDH-based Private Set Intersection (PSI) protocol. server holds secret P-256 scalar never leaves server. protocol following security properties:","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"dictionary-attack-resistance","dir":"Articles","previous_headings":"PSI Alignment Security","what":"Dictionary Attack Resistance","title":"Security Model","text":"Unlike SHA-256 hashing, attacker obtains hash list can pre-compute hashes dictionary plausible identifiers match , ECDH-PSI masks identifier server-held secret scalar. Without knowledge scalar, masked curve points computationally indistinguishable random group elements. attacker intercepts masked points mount dictionary attack reproduce serverâ€™s scalar multiplication.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"server-scalar-confidentiality","dir":"Articles","previous_headings":"PSI Alignment Security","what":"Server Scalar Confidentiality","title":"Security Model","text":"server kk draws secret scalar Î±k\\alpha_k uniformly random P-256 curve order. scalar generated stored exclusively server. never transmitted client servers. masked points Î±kâ‹…H(id)\\alpha_k \\cdot H(\\text{id}) one-way elliptic-curve discrete logarithm assumption: given masked point, recovering Î±k\\alpha_k computationally infeasible.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"unlinkability-across-servers-ddh","dir":"Articles","previous_headings":"PSI Alignment Security","what":"Unlinkability Across Servers (DDH)","title":"Security Model","text":"client receives doubly-masked points server pair. Decisional Diffieâ€“Hellman (DDH) assumption P-256, client link singly-masked point server AA corresponding singly-masked point server BB. client can determine whether two doubly-masked points (one direction) correspond identifier, exactly information needed alignment nothing .","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"non-matching-identifier-privacy","dir":"Articles","previous_headings":"PSI Alignment Security","what":"Non-Matching Identifier Privacy","title":"Security Model","text":"party learns identifiers held servers absent dataset. intersection protocol reveals set common identifiers (masked form). Identifiers present server AA absent server BB produce masked points match doubly-masked output, client simply discards without learning anything underlying identifier values.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/e-security.html","id":"assumptions-and-limitations","dir":"Articles","previous_headings":"","what":"Assumptions and Limitations","title":"Security Model","text":"Semi-honest model: Parties assumed follow protocol correctly. malicious party send corrupted key shares ciphertexts. Verifiable computation implemented. RLWE hardness: Security relies Ring Learning Errors problem computationally hard. RLWE leading candidate post-quantum cryptography. Network security: protocol assumes secure (TLS) communication channels client servers. DataSHIELD/Opal provides via HTTPS. Aggregate leakage: revealed aggregate statistics (correlations, coefficients) theoretically allow inference individuals sample small variables quasi-identifiers. inherent statistical release, specific MHE. differential privacy: protocol provides cryptographic protection intermediate computations add noise final outputs. Combining MHE differential privacy possible currently implemented.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"David Sarrat GonzÃ¡lez. Author, maintainer. Miron Banjac. Author. Juan R GonzÃ¡lez. Author.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sarrat GonzÃ¡lez D, Banjac M, GonzÃ¡lez J (2026). dsVertClient: DataSHIELD Client Functions Vertically Partitioned Data. R package version 1.4.0, https://github.com/isglobal-brge/dsVertClient.","code":"@Manual{,   title = {dsVertClient: DataSHIELD Client Functions for Vertically Partitioned Data},   author = {David {Sarrat GonzÃ¡lez} and Miron Banjac and Juan R GonzÃ¡lez},   year = {2026},   note = {R package version 1.4.0},   url = {https://github.com/isglobal-brge/dsVertClient}, }"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"dsVertClient","text":"dsVertClient client-side DataSHIELD package enables privacy-preserving statistical analysis vertically partitioned federated data. vertical partitioning, different data sources hold different variables (columns) set observations (rows). package provides user-friendly functions : ECDH-PSI Record Alignment: Privacy-preserving record matching using P-256 elliptic curves (dictionary attacks possible) Correlation Analysis: Compute correlation matrices using Multiparty Homomorphic Encryption (MHE) threshold decryption Principal Component Analysis: Perform PCA MHE-based correlation matrix Generalized Linear Models: Fit GLMs using Block Coordinate Descent encrypted labels (5 families)","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"dsVertClient","text":"","code":"# Install from GitHub (install dsVert first on servers) devtools::install_github(\"isglobal-brge/dsVertClient\")"},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"dsVertClient","text":"","code":"library(dsVertClient) library(DSI)  # Connect to Opal/DataSHIELD servers conns <- datashield.login(logindata)  # 1. Align records across servers using ECDH-PSI ds.psiAlign(\"D\", \"patient_id\", \"D_aligned\", datasources = conns)  # 2. Define which variables are on which server variables <- list(   hospital_A = c(\"age\", \"bmi\"),   hospital_B = c(\"glucose\", \"systolic_bp\"),   hospital_C = c(\"cholesterol\", \"hdl\") )  # 3. Compute correlation matrix (MHE with threshold decryption) cor_result <- ds.vertCor(\"D_aligned\", variables, datasources = conns) print(cor_result)  # 4. Perform PCA pca <- ds.vertPCA(\"D_aligned\", variables, n_components = 3, datasources = conns) print(pca)  # 5. Fit a GLM model <- ds.vertGLM(\"D_aligned\", \"outcome\", variables,                     y_server = \"hospital_B\", family = \"gaussian\",                     datasources = conns) summary(model)  # Disconnect datashield.logout(conns)"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"workflow-align--analyze","dir":"","previous_headings":"","what":"Workflow: Align â†’ Analyze","title":"dsVertClient","text":"","code":"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  ds.psiAlign     â”‚â”€â”€â–¶â”‚        Analyze            â”‚  â”‚  (ECDH-PSI)      â”‚   â”‚  ds.vertCor (MHE)         â”‚  â”‚                   â”‚   â”‚  ds.vertPCA               â”‚  â”‚                   â”‚   â”‚  ds.vertGLM (BCD + MHE)   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"mhe-correlation-how-it-works","dir":"","previous_headings":"","what":"MHE Correlation: How It Works","title":"dsVertClient","text":"6-phase threshold MHE protocol: Key Generation: server generates secret key share public key share. Party 0 creates Common Reference Polynomial (CRP). Key Combination: Public key shares combined Collective Public Key (CPK). Encryption CPK requires servers decryption. Encryption: server standardizes data (Z-scores) encrypts columns CPK. Local Correlation: Within-server correlations computed plaintext. Cross-Server Correlation: server pair (, B): server computes Z_A * Enc(Z_B) homomorphically. server provides partial decryption share. client fuses shares recover inner product. Assembly: full p x p correlation matrix assembled local cross-server blocks.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"requirements","dir":"","previous_headings":"","what":"Requirements","title":"dsVertClient","text":"R >= 4.0.0 DSI package jsonlite package dsVert package installed DataSHIELD servers (Opal/Rock)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"dsVertClient","text":"Getting Started: Setup, PSI record alignment, first analysis Statistical Analysis: Correlation, PCA, GLMs Methodology: MHE protocol, BCD-IRLS, ECDH-PSI details Validation: Numerical comparison local R Security Model: Threat model, MHE guarantees, PSI security","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"authors","dir":"","previous_headings":"","what":"Authors","title":"dsVertClient","text":"David Sarrat Gonzalez Miron Banjac Juan R Gonzalez","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"dsVertClient","text":"De Cristofaro, E. & Tsudik, G. (2010). â€œPractical Private Set Intersection Protocols Linear Complexityâ€. FC 2010. Mouchet, C. et al.Â (2021). â€œMultiparty Homomorphic Encryption Ring-Learning--Errorsâ€. Proceedings Privacy Enhancing Technologies (PETS). Cheon, J.H. et al.Â (2017). â€œHomomorphic Encryption Arithmetic Approximate Numbersâ€. ASIACRYPT 2017. van Kesteren, E.J. et al.Â (2019). â€œPrivacy-preserving generalized linear models using distributed block coordinate descentâ€. arXiv:1911.03183. Lattigo v6: https://github.com/tuneinsight/lattigo","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":null,"dir":"Reference","previous_headings":"","what":"Coefficients Method for ds.glm Objects â€” coef.ds.glm","title":"Coefficients Method for ds.glm Objects â€” coef.ds.glm","text":"Extract coefficients ds.glm object.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coefficients Method for ds.glm Objects â€” coef.ds.glm","text":"","code":"# S3 method for class 'ds.glm' coef(object, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coefficients Method for ds.glm Objects â€” coef.ds.glm","text":"object ds.glm object ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coefficients Method for ds.glm Objects â€” coef.ds.glm","text":"Named numeric vector coefficients","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":null,"dir":"Reference","previous_headings":"","what":"ECDH-PSI Record Alignment â€” ds.psiAlign","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"Privacy-preserving record alignment using Elliptic Curve Diffie-Hellman Private Set Intersection (ECDH-PSI). Aligns data frames across vertically partitioned DataSHIELD servers rows correspond individuals, without exposing identifiers.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"","code":"ds.psiAlign(   data_name,   id_col,   newobj = \"D_aligned\",   ref_server = NULL,   datasources = NULL )"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"data_name Character string. Name data frame server. id_col Character string. Name identifier column. newobj Character string. Name aligned data frame servers. Default \"D_aligned\". ref_server Character string NULL. Name reference server. NULL (default), first connection used. datasources DataSHIELD connection object list connections. NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"Invisibly returns list alignment statistics server: n_matched: Number records matched n_total: Number records server","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"function performs privacy-preserving record alignment single call, using ECDH-PSI instead SHA-256 hashing stronger privacy guarantees.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":"protocol-overview","dir":"Reference","previous_headings":"","what":"Protocol overview","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"ECDH-PSI exploits commutativity elliptic curve scalar multiplication: \\(\\alpha \\cdot (\\beta \\cdot H(id)) = \\beta \\cdot (\\alpha \\cdot H(id))\\). reference server hashes IDs P-256 curve points multiplies random scalar \\(\\alpha\\). Returns masked points client. target server: target generates scalar \\(\\beta\\), double-masks ref points \\(\\beta\\) (stores locally), masks IDs \\(\\beta\\). reference double-masks target points \\(\\alpha\\). target matches double-masked sets find intersection, reorders data match reference order. multi-server intersection ensures records present servers retained.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":"security-ddh-assumption-on-p-","dir":"Reference","previous_headings":"","what":"Security (DDH assumption on P-256)","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"client sees opaque elliptic curve points â€” reversible identifiers, vulnerable dictionary attacks. server's scalar never leaves server. DDH assumption prevents client linking single-masked points across servers.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.psiAlign.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ECDH-PSI Record Alignment â€” ds.psiAlign","text":"","code":"if (FALSE) { # \\dontrun{ # Align records across all servers using PSI ds.psiAlign(\"D\", \"patient_id\", \"D_aligned\", datasources = connections)  # Now \"D_aligned\" on all servers has matching, ordered observations } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":null,"dir":"Reference","previous_headings":"","what":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"Computes Pearson correlation matrix vertically partitioned data using Multiparty Homomorphic Encryption (MHE) threshold decryption.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"","code":"ds.vertCor(   data_name,   variables,   log_n = 12,   log_scale = 40,   datasources = NULL )"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"data_name Character string. Name (aligned) data frame server. variables named list name corresponds server name element character vector variable names server. log_n Integer. CKKS ring dimension parameter (12, 13, 14). Controls number slots: N/2 = 2^(logN-1). Default 12 (2048 slots, fast). Use 13 14 larger datasets. log_scale Integer. CKKS scale parameter controlling precision. Default 40 (approximately 12 decimal digits precision). datasources DataSHIELD connection object list connections. NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"list class \"ds.cor\" containing: correlation: full correlation matrix (p x p) var_names: Variable names order n_obs: Number observations method: \"MHE-CKKS-Threshold\" indicating method used servers: Names servers involved local_correlations: List within-server correlation matrices cross_correlations: List cross-server correlation matrices mhe_params: List log_n log_scale used","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"threshold-mhe-protocol-phases-","dir":"Reference","previous_headings":"","what":"Threshold MHE Protocol (6 phases)","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"function implements full multiparty homomorphic encryption protocol threshold decryption: Key Generation: server generates secret key share public key share. Party 0 also generates Common Reference Polynomial (CRP) shared parties. Key Combination: Public key shares combined Collective Public Key (CPK). Data encrypted CPK can decrypted servers cooperating. Encryption: server standardizes columns (Z-scores) encrypts column--column CPK. Local Correlation: Within-server correlations computed plaintext (encryption needed data stays -server). Cross-Server Correlation: pair servers (, B), server receives Enc(Z_B) computes element-wise product Z_A * Enc(Z_B) homomorphically. result still encrypted requires threshold decryption. server produces partial decryption share, client fuses shares recover inner product. Assembly: client assembles full p x p correlation matrix local correlations (diagonal blocks) cross-server correlations (-diagonal blocks).","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"security-guarantees","dir":"Reference","previous_headings":"","what":"Security Guarantees","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"Client privacy client (researcher) decrypt individual data. receives partial decryption shares useless alone. final aggregate statistics (correlation coefficients) revealed fusing shares. Server privacy server's raw data never leaves server. servers see encrypted columns (opaque ciphertexts). Collusion resistance Even K-1 colluding servers decrypt without K-th server's key share. Full decryption requires cooperation K servers.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"performance-notes","dir":"Reference","previous_headings":"","what":"Performance Notes","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"log_n = 12: 2048 observations, fastest log_n = 13: 4096 observations log_n = 14: 8192 observations, slowest Precision: approximately 10^-3 10^-4 error due CKKS approximation dominant cost threshold decryption loop (Phase 5), requires one round-trip per server per cross-correlation element.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"Mouchet, C. et al. (2021). \"Multiparty Homomorphic Encryption Ring-Learning--Errors\". Proceedings Privacy Enhancing Technologies (PETS). Cheon, J.H. et al. (2017). \"Homomorphic Encryption Arithmetic Approximate Numbers\". ASIACRYPT 2017.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Privacy-Preserving Correlation for Vertically Partitioned Data â€” ds.vertCor","text":"","code":"if (FALSE) { # \\dontrun{ # Connect to Opal/DataSHIELD servers connections <- DSI::datashield.login(builder$build())  # Align records across servers using ECDH-PSI ds.psiAlign(\"D\", \"patient_id\", \"D_aligned\", datasources = connections)  # Define which variables are on which server vars <- list(   hospital_A = c(\"age\", \"bmi\"),   hospital_B = c(\"glucose\", \"systolic_bp\") )  # Compute privacy-preserving correlation result <- ds.vertCor(\"D_aligned\", vars, datasources = connections) print(result) } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"Client-side function fits Generalized Linear Model across vertically partitioned data using Block Coordinate Descent encrypted labels. response variable y needs exist ONE server (\"label server\"). Non-label servers compute gradient updates using y encrypted MHE collective public key, aggregated p_k-length gradient revealed via threshold decryption.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"","code":"ds.vertGLM(   data_name,   y_var,   x_vars,   y_server = NULL,   family = \"gaussian\",   max_iter = 100,   tol = 1e-04,   lambda = 1e-04,   log_n = 12,   log_scale = 40,   verbose = TRUE,   datasources = NULL )"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"data_name Character string. Name (aligned) data frame server. y_var Character string. Name response variable (must exist label server specified y_server). x_vars named list name corresponds server name element character vector predictor variable names server. y_server Character string. Name server holding response variable. server uses plaintext IRLS; servers use encrypted gradient protocol. family Character string. GLM family: \"gaussian\", \"binomial\", \"poisson\", \"Gamma\", \"inverse.gaussian\". Default \"gaussian\". max_iter Integer. Maximum number BCD iterations. Default 100. tol Numeric. Convergence tolerance coefficient change. Default 1e-4 (accounts CKKS approximation noise). lambda Numeric. L2 regularization parameter. Default 1e-4. log_n Integer. CKKS ring dimension parameter (12, 13, 14). Default 12 (2048 slots, supports 2048 observations). log_scale Integer. CKKS scale parameter. Default 40. verbose Logical. Print progress messages. Default TRUE. datasources DataSHIELD connection object list connections. NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"list class \"ds.glm\" containing: coefficients: Named vector coefficient estimates (original scale, including intercept) iterations: Number iterations convergence converged: Logical indicating convergence family: Family used n_obs: Number observations n_vars: Number predictor variables (including intercept) lambda: Regularization parameter used deviance: Residual deviance fitted model null_deviance: Null deviance (intercept-model) pseudo_r2: McFadden's pseudo R-squared aic: Akaike Information Criterion y_server: Name label server call: matched call","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"feature-standardization","dir":"Reference","previous_headings":"","what":"Feature Standardization","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"Features automatically standardized (centered scaled) server BCD ensure fast convergence. Gaussian family, response also standardized. Coefficients transformed back original scale convergence, intercept computed.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"encrypted-label-bcd-irls-protocol","dir":"Reference","previous_headings":"","what":"Encrypted-Label BCD-IRLS Protocol","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"response variable y resides single \"label server\". Non-label servers never see y plaintext. protocol proceeds : MHE Key Setup: servers generate key shares combine Collective Public Key (CPK) Galois keys. Standardize: server standardizes features. Encrypt y: label server encrypts (standardized) y CPK distributes ciphertext non-label servers. BCD Loop: iteration, server updates block coefficients standardized scale. Unstandardize: Coefficients transformed back original scale intercept computed. Deviance: Computed label server using plaintext y final linear predictor (original scale).","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"van Kesteren, E.J. et al. (2019). Privacy-preserving generalized linear models using distributed block coordinate descent. arXiv:1911.03183. Mouchet, C. et al. (2021). \"Multiparty Homomorphic Encryption Ring-Learning--Errors\". Proceedings Privacy Enhancing Technologies.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generalized Linear Model for Vertically Partitioned Data â€” ds.vertGLM","text":"","code":"if (FALSE) { # \\dontrun{ x_vars <- list(   server1 = c(\"age\", \"bmi\"),   server2 = c(\"glucose\"),   server3 = c(\"cholesterol\", \"heart_rate\") )  # Gaussian GLM (bp on server2) model <- ds.vertGLM(\"D_aligned\", \"bp\", x_vars,                      y_server = \"server2\", family = \"gaussian\") print(model) } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":null,"dir":"Reference","previous_headings":"","what":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"Performs PCA vertically partitioned data using privacy-preserving correlation matrix computed via Homomorphic Encryption.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"","code":"ds.vertPCA(   data_name = NULL,   variables = NULL,   n_components = NULL,   cor_result = NULL,   log_n = 12,   log_scale = 40,   datasources = NULL )"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"data_name Character string. Name (aligned) data frame server. Ignored cor_result provided. variables named list name corresponds server name element character vector variable names server. Ignored cor_result provided. n_components Integer. Number principal components return. Default NULL (returns ). cor_result existing ds.cor object ds.vertCor. provided, MHE protocol re-run; PCA computed directly correlation matrix. avoids running expensive MHE protocol twice already correlation. log_n Integer. CKKS ring dimension parameter MHE. Default 12. Ignored cor_result provided. log_scale Integer. CKKS precision parameter MHE. Default 40. Ignored cor_result provided. datasources DataSHIELD connection object list connections. NULL, uses available connections. Ignored cor_result provided.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"list class \"ds.pca\" containing: loadings: Matrix variable loadings (n_vars x n_components) eigenvalues: Eigenvalues component variance_pct: Percentage variance explained cumulative_pct: Cumulative percentage explained var_names: Variable names n_obs: Number observations correlation: correlation matrix used PCA","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"function performs PCA using correlation matrix obtained via Multiparty Homomorphic Encryption (MHE). approach : Compute privacy-preserving correlation matrix using ds.vertCor (reuse existing one via cor_result parameter) Perform eigen decomposition correlation matrix Extract loadings (eigenvectors) eigenvalues Since PCA standardized data equivalent eigen decomposition correlation matrix, gives correct loadings variance explained. Note scores: function return principal component scores computing scores require access raw data. need scores, need compute server using loadings aggregate results (separate operation).","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"interpreting-loadings","dir":"Reference","previous_headings":"","what":"Interpreting Loadings","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"column loadings matrix represents principal component. values show much variable contributes component: Values close 1 -1 indicate strong contribution Values close 0 indicate weak contribution Sign indicates direction relationship","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"security","dir":"Reference","previous_headings":"","what":"Security","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"function inherits security properties ds.vertCor: Individual observations never exposed client decrypt without servers cooperating aggregate statistics (correlation matrix) revealed","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Principal Component Analysis for Vertically Partitioned Data â€” ds.vertPCA","text":"","code":"if (FALSE) { # \\dontrun{ vars <- list(   server1 = c(\"age\", \"weight\"),   server2 = c(\"height\", \"bmi\") )  pca_result <- ds.vertPCA(\"D_aligned\", vars, n_components = 3)  # Or reuse an existing correlation result (avoids running MHE again): cor_result <- ds.vertCor(\"D_aligned\", vars) pca_result <- ds.vertPCA(cor_result = cor_result, n_components = 3)  # View variance explained print(pca_result)  # Biplot of loadings for first two PCs plot(pca_result$loadings[, 1], pca_result$loadings[, 2],      xlim = c(-1, 1), ylim = c(-1, 1),      xlab = paste0(\"PC1 (\", round(pca_result$variance_pct[1], 1), \"%)\"),      ylab = paste0(\"PC2 (\", round(pca_result$variance_pct[2], 1), \"%)\")) text(pca_result$loadings[, 1], pca_result$loadings[, 2],      labels = pca_result$var_names, pos = 3) abline(h = 0, v = 0, lty = 2) } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.cor.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for ds.cor Objects â€” print.ds.cor","title":"Print Method for ds.cor Objects â€” print.ds.cor","text":"Prints summary correlation results.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.cor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for ds.cor Objects â€” print.ds.cor","text":"","code":"# S3 method for class 'ds.cor' print(x, digits = 4, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.cor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for ds.cor Objects â€” print.ds.cor","text":"x ds.cor object digits Number digits display ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.glm.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for ds.glm Objects â€” print.ds.glm","title":"Print Method for ds.glm Objects â€” print.ds.glm","text":"Prints summary GLM results.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for ds.glm Objects â€” print.ds.glm","text":"","code":"# S3 method for class 'ds.glm' print(x, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for ds.glm Objects â€” print.ds.glm","text":"x ds.glm object ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for ds.pca Objects â€” print.ds.pca","title":"Print Method for ds.pca Objects â€” print.ds.pca","text":"Prints summary PCA results.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for ds.pca Objects â€” print.ds.pca","text":"","code":"# S3 method for class 'ds.pca' print(x, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for ds.pca Objects â€” print.ds.pca","text":"x ds.pca object ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/summary.ds.glm.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary Method for ds.glm Objects â€” summary.ds.glm","title":"Summary Method for ds.glm Objects â€” summary.ds.glm","text":"Prints detailed summary including deviance fit statistics.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/summary.ds.glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary Method for ds.glm Objects â€” summary.ds.glm","text":"","code":"# S3 method for class 'ds.glm' summary(object, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/summary.ds.glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary Method for ds.glm Objects â€” summary.ds.glm","text":"object ds.glm object ... Additional arguments (ignored)","code":""}]
