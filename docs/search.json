[{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"what-is-vertical-data-partitioning","dir":"Articles","previous_headings":"","what":"What is Vertical Data Partitioning?","title":"Getting Started with dsVertClient","text":"traditional horizontal partitioning, different institutions hold data different patients variables. example, Hospital 1000 patients Hospital B 2000 different patients, measure things (age, blood pressure, etc.). Vertical partitioning different: multiple institutions hold data patients different variables. commonly occurs : hospital clinical data (diagnoses, treatments) laboratory biomarker measurements research center genomic data government agency demographic data institutions records individuals, identified common ID (e.g., national health number), holds different pieces information.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"example-three-institutions-with-shared-patients","dir":"Articles","previous_headings":"What is Vertical Data Partitioning?","what":"Example: Three Institutions with Shared Patients","title":"Getting Started with dsVertClient","text":"Hospital Laboratory B Research Center C patients (P1, P2, P3) different variables institution.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"the-privacy-challenge","dir":"Articles","previous_headings":"","what":"The Privacy Challenge","title":"Getting Started with dsVertClient","text":"analyze relationships variables held different institutions (e.g., “glucose level correlate genetic markers?”), traditionally need : Send data central location Merge datasets Perform analysis approach serious privacy legal concerns: Patient privacy: Sensitive data leaves protected environments Legal barriers: GDPR regulations restrict data transfer Trust issues: Institutions may trust data","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"the-datashield-solution","dir":"Articles","previous_headings":"","what":"The DataSHIELD Solution","title":"Getting Started with dsVertClient","text":"DataSHIELD framework enables privacy-preserving federated analysis. key principle : “Bring analysis data, data analysis” Instead moving data, DataSHIELD: Sends analysis commands server server executes computations locally data aggregate results (never individual-level data) returned client combines aggregates produce final results dsVertClient extends DataSHIELD specifically vertically partitioned data, implementing: Privacy-preserving record alignment via cryptographic hashing Distributed correlation PCA using Block SVD Distributed GLM fitting using Block Coordinate Descent","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"our-test-environment","dir":"Articles","previous_headings":"","what":"Our Test Environment","title":"Getting Started with dsVertClient","text":"tutorial, simulated environment 3 institutions 200 patients. institution holds different variables patients: institutions also store outcome variables (blood pressure, diabetes status, hospital visits, costs) used GLM examples.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"connecting-to-servers","dir":"Articles","previous_headings":"Our Test Environment","what":"Connecting to Servers","title":"Getting Started with dsVertClient","text":"connect DataSHIELD servers assign data symbol D:","code":"# Build login credentials for each server builder <- newDSLoginBuilder() builder$append(server = \"inst_A\", url = \"dslite_server\",                table = \"inst_A\", driver = \"DSLiteDriver\") builder$append(server = \"inst_B\", url = \"dslite_server\",                table = \"inst_B\", driver = \"DSLiteDriver\") builder$append(server = \"inst_C\", url = \"dslite_server\",                table = \"inst_C\", driver = \"DSLiteDriver\")  # Connect and assign data to symbol \"D\" on each server connections <- datashield.login(builder$build(), assign = TRUE, symbol = \"D\")"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"what-each-institution-sees","dir":"Articles","previous_headings":"Our Test Environment","what":"What Each Institution Sees","title":"Getting Started with dsVertClient","text":"Institution (Hospital) Institution B (Clinic) Institution C (Laboratory) Notice : institution different variables patient order different institution patient (e.g., PATIENT_00093) appears different row positions realistic: institutions store data independently don’t coordinate internal ordering.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"step-1-validating-identifier-formats","dir":"Articles","previous_headings":"","what":"Step 1: Validating Identifier Formats","title":"Getting Started with dsVertClient","text":"aligning records, verify patient identifiers consistent formats across institutions. Common problems include: Different ID formats (e.g., “001” vs “1” vs “P001”) Leading/trailing whitespace Missing values duplicates ’re looking : n_obs: number observations across institutions n_unique: equal n_obs (duplicates) n_missing: 0 format_signature: identical across institutions","code":"validation_result <- ds.validateIdFormat(   data_name = \"D\",   id_col = \"patient_id\",   datasources = connections )  validation_result #>  #> Identifier Format Validation #> ============================ #>  #> Overall Status: VALID  #> Format Consistency: Yes  #>  #> Server Details: #>  server n_obs n_unique n_missing  id_class #>  inst_A   200      200         0 character #>  inst_B   200      200         0 character #>  inst_C   200      200         0 character #>                                                  format_signature #>  8d404dbb1d0a33a5bf77b9f34bfabf2e0930831a8dfd5dfa57302c6bbb345ac1 #>  8d404dbb1d0a33a5bf77b9f34bfabf2e0930831a8dfd5dfa57302c6bbb345ac1 #>  8d404dbb1d0a33a5bf77b9f34bfabf2e0930831a8dfd5dfa57302c6bbb345ac1"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"the-problem","dir":"Articles","previous_headings":"Step 2: Privacy-Preserving Record Alignment","what":"The Problem","title":"Getting Started with dsVertClient","text":"Even though institutions data patients, records different order. analyze relationships across variables (e.g., correlation age glucose), need corresponding records position. simply share patient IDs! violate privacy.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"the-solution-cryptographic-hashing","dir":"Articles","previous_headings":"Step 2: Privacy-Preserving Record Alignment","what":"The Solution: Cryptographic Hashing","title":"Getting Started with dsVertClient","text":"Instead sharing actual IDs, : Hash IDs using SHA-256 (one-way cryptographic function) Share hashes - reversed reveal original IDs Reorder records institution match reference order hash shared safely - original ID recovered .","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"step-2a-get-reference-hashes","dir":"Articles","previous_headings":"Step 2: Privacy-Preserving Record Alignment","what":"Step 2a: Get Reference Hashes","title":"Getting Started with dsVertClient","text":"First, obtain hashed identifiers one institution (becomes reference): retrieved 200 hashed identifiers.","code":"reference_hashes <- ds.hashId(   data_name = \"D\",   id_col = \"patient_id\",   algo = \"sha256\",   datasource = connections[\"inst_A\"] )"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"step-2b-align-all-institutions","dir":"Articles","previous_headings":"Step 2: Privacy-Preserving Record Alignment","what":"Step 2b: Align All Institutions","title":"Getting Started with dsVertClient","text":"Now send reference hashes institutions. institution: Computes hashes IDs Reorders records match reference hash order Removes records reference set","code":"ds.alignRecords(   data_name = \"D\",   id_col = \"patient_id\",   reference_hashes = reference_hashes$hashes,   newobj = \"D_aligned\",   datasources = connections )"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"verifying-alignment","dir":"Articles","previous_headings":"Step 2: Privacy-Preserving Record Alignment","what":"Verifying Alignment","title":"Getting Started with dsVertClient","text":"institutions now : number records Records order (corresponding patients) Ready cross-institutional analysis","code":"alignment_counts <- sapply(names(connections), function(inst) {   count_result <- DSI::datashield.aggregate(     connections[inst],     call(\"getObsCountDS\", \"D_aligned\")   )   count_result[[1]]$n_obs })  data.frame(Institution = names(alignment_counts), Records = alignment_counts, row.names = NULL) #>   Institution Records #> 1      inst_A     200 #> 2      inst_B     200 #> 3      inst_C     200"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/a-getting-started.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with dsVertClient","text":"Now records aligned, can perform statistical analyses: Statistical Analysis: Correlation, PCA, GLMs Methodology: Mathematical details behind algorithms","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"our-environment","dir":"Articles","previous_headings":"","what":"Our Environment","title":"Statistical Analysis","text":"three institutions aligned data 200 patients: institutions also outcome variables (blood pressure, diabetes status, hospital visits, costs) GLM examples.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"understanding-the-challenge","dir":"Articles","previous_headings":"Correlation Analysis","what":"Understanding the Challenge","title":"Statistical Analysis","text":"Computing correlations across vertically partitioned data non-trivial. Consider computing correlation age (Institution ) glucose (Institution C): Institution knows age values glucose Institution C knows glucose values age Neither can compute correlation alone send raw values institutions","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"the-solution-block-svd","dir":"Articles","previous_headings":"Correlation Analysis","what":"The Solution: Block SVD","title":"Statistical Analysis","text":"dsVertClient uses Block Singular Value Decomposition (SVD) compute correlations without sharing raw data: institution computes partial SVD standardized data U×D matrices (left singular vectors × singular values) returned client combines reconstruct full correlation matrix mathematical details Methodology vignette.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"computing-the-correlation-matrix","dir":"Articles","previous_headings":"Correlation Analysis","what":"Computing the Correlation Matrix","title":"Statistical Analysis","text":"define variables belong institution compute correlation matrix: matrix shows correlations 6 variables across 3 institutions. Note cross-institution correlations (e.g., glucose Institution C age Institution ) computed without either institution seeing ’s data.","code":"variables <- list(   inst_A = c(\"age\", \"weight\"),   inst_B = c(\"height\", \"bmi\"),   inst_C = c(\"glucose\", \"cholesterol\") ) cor_matrix <- ds.vertCor(   data_name = \"D_aligned\",   variables = variables,   datasources = connections )  round(cor_matrix, 3) #>                age weight height    bmi glucose cholesterol #> age          1.000  0.000 -0.374 -0.590   0.431      -0.129 #> weight       0.000  1.000  0.310  0.631  -0.026      -0.001 #> height      -0.374  0.310  1.000  0.000  -0.268      -0.019 #> bmi         -0.590  0.631  0.000  1.000  -0.213       0.097 #> glucose      0.431 -0.026 -0.268 -0.213   1.000       0.000 #> cholesterol -0.129 -0.001 -0.019  0.097   0.000       1.000"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"selected-correlations","dir":"Articles","previous_headings":"Correlation Analysis","what":"Selected Correlations","title":"Statistical Analysis","text":"first three within-institution correlations; last three cross-institution correlations computed via Block SVD.","code":"data.frame(   Correlation = c(\"weight-age\", \"bmi-height\", \"cholesterol-glucose\",                   \"glucose-age\", \"bmi-age\", \"cholesterol-bmi\"),   Institutions = c(\"A-A\", \"B-B\", \"C-C\", \"C-A\", \"B-A\", \"C-B\"),   r = c(cor_matrix[\"weight\", \"age\"],         cor_matrix[\"bmi\", \"height\"],         cor_matrix[\"cholesterol\", \"glucose\"],         cor_matrix[\"glucose\", \"age\"],         cor_matrix[\"bmi\", \"age\"],         cor_matrix[\"cholesterol\", \"bmi\"]) ) #>           Correlation Institutions             r #> 1          weight-age          A-A -4.999003e-16 #> 2          bmi-height          B-B  1.873238e-15 #> 3 cholesterol-glucose          C-C -3.070274e-16 #> 4         glucose-age          C-A  4.306907e-01 #> 5             bmi-age          B-A -5.897249e-01 #> 6     cholesterol-bmi          C-B  9.720913e-02"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"visualizing-correlations","dir":"Articles","previous_headings":"Correlation Analysis","what":"Visualizing Correlations","title":"Statistical Analysis","text":"","code":"par(mar = c(1, 1, 5, 1)) heatmap(   cor_matrix,   symm = TRUE,   col = colorRampPalette(c(\"#2166AC\", \"#F7F7F7\", \"#B2182B\"))(50),   margins = c(10, 10),   main = \"\\n\\nCorrelation Heatmap\" )"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"understanding-distributed-pca","dir":"Articles","previous_headings":"Principal Component Analysis (PCA)","what":"Understanding Distributed PCA","title":"Statistical Analysis","text":"PCA finds linear combinations variables capture maximum variance. vertically partitioned data, variables spread across institutions, making traditional PCA impossible. dsVertClient uses Block SVD approach correlation analysis perform distributed PCA: institution computes U×D local SVD client combines matrices final SVD produces principal components","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"performing-pca","dir":"Articles","previous_headings":"Principal Component Analysis (PCA)","what":"Performing PCA","title":"Statistical Analysis","text":"","code":"pca_result <- ds.vertPCA(   data_name = \"D_aligned\",   variables = variables,   n_components = 4,   datasources = connections )  pca_result #> Principal Component Analysis (Vertically Partitioned) #> ====================================================== #>  #> Observations: 200  #> Variables: 6  #> Components: 4  #>  #> Variance Explained: #>  Component Variance Percent Cumulative #>        PC1 464.9728   38.94      38.94 #>        PC2 248.3740   20.80      59.74 #>        PC3 201.9797   16.92      76.66 #>        PC4 155.4281   13.02      89.68"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"understanding-pca-output","dir":"Articles","previous_headings":"Principal Component Analysis (PCA)","what":"Understanding PCA Output","title":"Statistical Analysis","text":"PCA result contains three key components: Variance explained - much total variance component captures: Loadings - variable contributes component: Scores - patient’s position PC space (first 5 shown):","code":"data.frame(   Component = paste0(\"PC\", 1:4),   Variance = round(pca_result$variance, 4),   Percent = paste0(round(pca_result$variance_pct, 1), \"%\"),   Cumulative = paste0(round(pca_result$cumulative_pct, 1), \"%\") ) #>   Component Variance Percent Cumulative #> 1       PC1 464.9728   38.9%      38.9% #> 2       PC2 248.3740   20.8%      59.7% #> 3       PC3 201.9797   16.9%      76.7% #> 4       PC4 155.4281     13%      89.7% loadings_df <- as.data.frame(round(pca_result$loadings, 3)) colnames(loadings_df) <- paste0(\"PC\", 1:4) loadings_df #>                PC1    PC2    PC3    PC4 #> age         -0.474 -0.326 -0.200  0.422 #> weight       0.259 -0.626  0.519  0.261 #> height       0.651 -0.410 -0.577 -0.144 #> bmi          0.199 -0.047  0.557 -0.035 #> glucose     -0.494 -0.570 -0.058 -0.515 #> cholesterol  0.031  0.078  0.211 -0.683 scores_preview <- as.data.frame(round(pca_result$scores[1:5, ], 3)) colnames(scores_preview) <- paste0(\"PC\", 1:4) scores_preview #>      PC1    PC2    PC3    PC4 #> 1 -1.921  1.346 -0.251  0.923 #> 2  0.170  0.921 -2.685 -0.875 #> 3 -0.633 -2.246 -0.451 -1.403 #> 4  1.595 -0.658  1.178 -1.268 #> 5  1.062 -0.590  0.268 -0.508"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"visualizing-pca-results","dir":"Articles","previous_headings":"Principal Component Analysis (PCA)","what":"Visualizing PCA Results","title":"Statistical Analysis","text":"","code":"par(mar = c(6, 4, 4, 2)) barplot(   pca_result$variance_pct,   names.arg = paste0(\"PC\", 1:4),   main = \"Scree Plot: Variance Explained\",   ylab = \"Percentage of Variance (%)\",   col = \"steelblue\",   ylim = c(0, max(pca_result$variance_pct) * 1.3) )  # Add cumulative line on secondary scale cum_scaled <- pca_result$cumulative_pct / 100 * max(pca_result$variance_pct) * 1.1 lines(1:4, cum_scaled, type = \"b\", col = \"#d62728\", pch = 19, lwd = 2)  # Legend below the plot par(xpd = TRUE) legend(\"bottom\", inset = c(0, -0.25), legend = c(\"Individual %\", \"Cumulative % (scaled)\"),        fill = c(\"steelblue\", NA), border = c(\"black\", NA),        lty = c(NA, 1), col = c(NA, \"#d62728\"), pch = c(NA, 19), lwd = c(NA, 2),        horiz = TRUE, bg = \"white\", cex = 0.9) plot(   pca_result$scores[, 1],   pca_result$scores[, 2],   xlab = sprintf(\"PC1 (%.1f%%)\", pca_result$variance_pct[1]),   ylab = sprintf(\"PC2 (%.1f%%)\", pca_result$variance_pct[2]),   main = \"PCA Score Plot\\n(Data from 3 Institutions)\",   pch = 19,   col = rgb(0.2, 0.4, 0.6, 0.5) ) abline(h = 0, v = 0, lty = 2, col = \"gray\")"},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"the-block-coordinate-descent-algorithm","dir":"Articles","previous_headings":"Generalized Linear Models (GLM)","what":"The Block Coordinate Descent Algorithm","title":"Statistical Analysis","text":"dsVertClient fits GLMs using Block Coordinate Descent (BCD), iterative algorithm : Divides predictors “blocks” (one per institution) Updates block’s coefficients holding others fixed Shares linear predictor (η = Xβ), raw data Iterates convergence ensures: institution’s raw data stays local Coefficients computed locally institution aggregate predictions shared iterations","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"example-1-gaussian-glm-linear-regression","dir":"Articles","previous_headings":"Generalized Linear Models (GLM)","what":"Example 1: Gaussian GLM (Linear Regression)","title":"Statistical Analysis","text":"Predict blood pressure age, BMI, glucose: summary shows: Coefficients: Effect predictor blood pressure Deviance: Measures model fit (lower = better) Null deviance: Deviance intercept-model Pseudo R²: Proportion deviance explained AIC: Model comparison metric (lower = better)","code":"x_vars <- list(   inst_A = c(\"age\", \"weight\"),   inst_B = c(\"bmi\"),   inst_C = c(\"glucose\") )  model_bp <- ds.vertGLM(   data_name = \"D_aligned\",   y_var = \"outcome_bp\",   x_vars = x_vars,   family = \"gaussian\",   tol = 1e-5,   verbose = FALSE,   datasources = connections )  summary(model_bp) #>  #> Vertically Partitioned GLM - Summary #> ==================================== #>  #> Call: #> ds.vertGLM(data_name = \"D_aligned\", y_var = \"outcome_bp\", x_vars = x_vars,  #>     family = \"gaussian\", tol = 1e-05, verbose = FALSE, datasources = connections) #>  #> Family: gaussian  #> Observations: 200  #> Predictors: 4  #> Regularization (lambda): 1e-04  #>  #> Convergence: #>   Iterations: 100  #>   Converged: FALSE  #>  #> Deviance: #>   Null deviance:     23440.1350  on 199 degrees of freedom #>   Residual deviance: 29254.8850  on 196 degrees of freedom #>  #> Model Fit: #>   Pseudo R-squared (McFadden): -0.2481  #>   AIC: 29262.8850  #>  #> Coefficients: #>         Estimate #> age     0.755932 #> weight  0.369646 #> bmi     0.424892 #> glucose 0.510653"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"example-2-binomial-glm-logistic-regression","dir":"Articles","previous_headings":"Generalized Linear Models (GLM)","what":"Example 2: Binomial GLM (Logistic Regression)","title":"Statistical Analysis","text":"Predict diabetes risk: logistic regression, coefficients log-odds scale. Exponentiating gives odds ratios: odds ratio > 1 means higher risk per unit increase predictor.","code":"model_diabetes <- ds.vertGLM(   data_name = \"D_aligned\",   y_var = \"outcome_diabetes\",   x_vars = x_vars,   family = \"binomial\",   tol = 1e-5,   verbose = FALSE,   datasources = connections )  summary(model_diabetes) #>  #> Vertically Partitioned GLM - Summary #> ==================================== #>  #> Call: #> ds.vertGLM(data_name = \"D_aligned\", y_var = \"outcome_diabetes\",  #>     x_vars = x_vars, family = \"binomial\", tol = 1e-05, verbose = FALSE,  #>     datasources = connections) #>  #> Family: binomial  #> Observations: 200  #> Predictors: 4  #> Regularization (lambda): 1e-04  #>  #> Convergence: #>   Iterations: 100  #>   Converged: FALSE  #>  #> Deviance: #>   Null deviance:     200.1610  on 199 degrees of freedom #>   Residual deviance: 199.3624  on 196 degrees of freedom #>  #> Model Fit: #>   Pseudo R-squared (McFadden): 0.0040  #>   AIC: 207.3624  #>  #> Coefficients: #>          Estimate #> age      0.022473 #> weight  -0.018808 #> bmi      0.088633 #> glucose -0.030695 odds_ratios <- exp(coef(model_diabetes)) data.frame(   Variable = names(odds_ratios),   OddsRatio = round(odds_ratios, 3) ) #>         Variable OddsRatio #> age          age     1.023 #> weight    weight     0.981 #> bmi          bmi     1.093 #> glucose  glucose     0.970"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"example-3-poisson-glm-count-data","dir":"Articles","previous_headings":"Generalized Linear Models (GLM)","what":"Example 3: Poisson GLM (Count Data)","title":"Statistical Analysis","text":"Predict number hospital visits: Poisson regression, coefficients log scale. Exponentiate get rate ratios.","code":"model_visits <- ds.vertGLM(   data_name = \"D_aligned\",   y_var = \"outcome_visits\",   x_vars = list(inst_A = c(\"age\"), inst_B = c(\"bmi\")),   family = \"poisson\",   tol = 1e-5,   verbose = FALSE,   datasources = connections )  summary(model_visits) #>  #> Vertically Partitioned GLM - Summary #> ==================================== #>  #> Call: #> ds.vertGLM(data_name = \"D_aligned\", y_var = \"outcome_visits\",  #>     x_vars = list(inst_A = c(\"age\"), inst_B = c(\"bmi\")), family = \"poisson\",  #>     tol = 1e-05, verbose = FALSE, datasources = connections) #>  #> Family: poisson  #> Observations: 200  #> Predictors: 2  #> Regularization (lambda): 1e-04  #>  #> Convergence: #>   Iterations: 30  #>   Converged: TRUE  #>  #> Deviance: #>   Null deviance:     255.8463  on 199 degrees of freedom #>   Residual deviance: 247.5245  on 198 degrees of freedom #>  #> Model Fit: #>   Pseudo R-squared (McFadden): 0.0325  #>   AIC: 251.5245  #>  #> Coefficients: #>      Estimate #> age  0.006913 #> bmi -0.003566"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"example-4-gamma-glm-positive-continuous","dir":"Articles","previous_headings":"Generalized Linear Models (GLM)","what":"Example 4: Gamma GLM (Positive Continuous)","title":"Statistical Analysis","text":"Predict healthcare costs: Gamma family appropriate : Strictly positive continuous outcomes Right-skewed distributions Variance proportional mean squared (common cost data)","code":"model_cost <- ds.vertGLM(   data_name = \"D_aligned\",   y_var = \"outcome_cost\",   x_vars = list(inst_A = c(\"age\"), inst_B = c(\"bmi\")),   family = \"Gamma\",   tol = 1e-5,   verbose = FALSE,   datasources = connections )  summary(model_cost) #>  #> Vertically Partitioned GLM - Summary #> ==================================== #>  #> Call: #> ds.vertGLM(data_name = \"D_aligned\", y_var = \"outcome_cost\", x_vars = list(inst_A = c(\"age\"),  #>     inst_B = c(\"bmi\")), family = \"Gamma\", tol = 1e-05, verbose = FALSE,  #>     datasources = connections) #>  #> Family: Gamma  #> Observations: 200  #> Predictors: 2  #> Regularization (lambda): 1e-04  #>  #> Convergence: #>   Iterations: 100  #>   Converged: FALSE  #>  #> Deviance: #>   Null deviance:     52.7530  on 199 degrees of freedom #>   Residual deviance: 113721968541478.3125  on 198 degrees of freedom #>  #> Model Fit: #>   Pseudo R-squared (McFadden): -2155744002527.2092  #>   AIC: 113721968541482.3125  #>  #> Coefficients: #>      Estimate #> age -44.69691 #> bmi 100.00000"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"example-5-inverse-gaussian-glm","dir":"Articles","previous_headings":"Generalized Linear Models (GLM)","what":"Example 5: Inverse Gaussian GLM","title":"Statistical Analysis","text":"alternative positive continuous data different variance structure:","code":"model_cost_ig <- ds.vertGLM(   data_name = \"D_aligned\",   y_var = \"outcome_cost\",   x_vars = list(inst_A = c(\"age\"), inst_B = c(\"bmi\")),   family = \"inverse.gaussian\",   tol = 1e-5,   verbose = FALSE,   datasources = connections )  summary(model_cost_ig) #>  #> Vertically Partitioned GLM - Summary #> ==================================== #>  #> Call: #> ds.vertGLM(data_name = \"D_aligned\", y_var = \"outcome_cost\", x_vars = list(inst_A = c(\"age\"),  #>     inst_B = c(\"bmi\")), family = \"inverse.gaussian\", tol = 1e-05,  #>     verbose = FALSE, datasources = connections) #>  #> Family: inverse.gaussian  #> Observations: 200  #> Predictors: 2  #> Regularization (lambda): 1e-04  #>  #> Convergence: #>   Iterations: 100  #>   Converged: FALSE  #>  #> Deviance: #>   Null deviance:     0.0453  on 199 degrees of freedom #>   Residual deviance: 22674899501047657529344.0000  on 198 degrees of freedom #>  #> Model Fit: #>   Pseudo R-squared (McFadden): -500732668821773265928192.0000  #>   AIC: 22674899501047657529344.0000  #>  #> Coefficients: #>      Estimate #> age -41.52758 #> bmi 100.00000"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"comparing-models","dir":"Articles","previous_headings":"Generalized Linear Models (GLM)","what":"Comparing Models","title":"Statistical Analysis","text":"","code":"models <- list(   \"Blood Pressure (gaussian)\" = model_bp,   \"Diabetes Risk (binomial)\" = model_diabetes,   \"Hospital Visits (poisson)\" = model_visits,   \"Healthcare Cost (Gamma)\" = model_cost,   \"Healthcare Cost (inv.gauss)\" = model_cost_ig )  data.frame(   Model = names(models),   Family = sapply(models, function(m) m$family),   Predictors = sapply(models, function(m) m$n_vars),   Deviance = sapply(models, function(m) round(m$deviance, 2)),   Pseudo_R2 = sapply(models, function(m) round(m$pseudo_r2, 4)),   AIC = sapply(models, function(m) round(m$aic, 2)),   Converged = sapply(models, function(m) m$converged) ) #>                                                   Model           Family #> Blood Pressure (gaussian)     Blood Pressure (gaussian)         gaussian #> Diabetes Risk (binomial)       Diabetes Risk (binomial)         binomial #> Hospital Visits (poisson)     Hospital Visits (poisson)          poisson #> Healthcare Cost (Gamma)         Healthcare Cost (Gamma)            Gamma #> Healthcare Cost (inv.gauss) Healthcare Cost (inv.gauss) inverse.gaussian #>                             Predictors     Deviance     Pseudo_R2          AIC #> Blood Pressure (gaussian)            4 2.925488e+04 -2.481000e-01 2.926288e+04 #> Diabetes Risk (binomial)             4 1.993600e+02  4.000000e-03 2.073600e+02 #> Hospital Visits (poisson)            2 2.475200e+02  3.250000e-02 2.515200e+02 #> Healthcare Cost (Gamma)              2 1.137220e+14 -2.155744e+12 1.137220e+14 #> Healthcare Cost (inv.gauss)          2 2.267490e+22 -5.007327e+23 2.267490e+22 #>                             Converged #> Blood Pressure (gaussian)       FALSE #> Diabetes Risk (binomial)        FALSE #> Hospital Visits (poisson)        TRUE #> Healthcare Cost (Gamma)         FALSE #> Healthcare Cost (inv.gauss)     FALSE"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/b-statistical-analysis.html","id":"privacy-summary","dir":"Articles","previous_headings":"","what":"Privacy Summary","title":"Statistical Analysis","text":"Throughout analyses: raw patient-level data ever leaves institution. detailed explanation mathematical methodology, see Methodology vignette.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"overview-of-methods","dir":"Articles","previous_headings":"","what":"Overview of Methods","title":"Methodology","text":"dsVertClient implements three main distributed algorithms: Block SVD - correlation PCA Block Coordinate Descent (BCD) - GLM coefficient estimation Iteratively Reweighted Least Squares (IRLS) - non-Gaussian GLMs methods share key principle: decompose computations institution sees data, sharing aggregate statistics.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"the-problem","dir":"Articles","previous_headings":"Block Singular Value Decomposition (Block SVD)","what":"The Problem","title":"Methodology","text":"Given data matrix XX split column-wise across KK institutions: X=[X1|X2|...|XK]X = [X_1 | X_2 | ... | X_K] institution kk holds XkX_k (subset columns), want compute: Correlation matrix: R=XTX/(n−1)R = X^T X / (n-1) (standardized data) Principal components: SVD XX institution can see full XX.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"the-solution","dir":"Articles","previous_headings":"Block Singular Value Decomposition (Block SVD)","what":"The Solution","title":"Methodology","text":"key insight can compute combined SVD : institution kk computes SVD data: Xk=UkDkVkTX_k = U_k D_k V_k^T institution returns UkDkU_k D_k (“scores” component) client stacks : [U1D1|U2D2|...|UKDK][U_1 D_1 | U_2 D_2 | ... | U_K D_K] final SVD combined matrix yields global result preserves privacy: UkDkU_k D_k aggregate transformation data number rows observations typically far fewer columns Individual data values recovered UkDkU_k D_k","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"mathematical-details","dir":"Articles","previous_headings":"Block Singular Value Decomposition (Block SVD)","what":"Mathematical Details","title":"Methodology","text":"correlation analysis standardized data (mean=0, sd=1): Cor(X)=XTXn−1=VD2VTn−1\\text{Cor}(X) = \\frac{X^T X}{n-1} = \\frac{V D^2 V^T}{n-1} Block SVD approach computes : Stack partial results: M=[U1D1|U2D2|...|UKDK]M = [U_1 D_1 | U_2 D_2 | ... | U_K D_K] Compute SVD MM: M=ŨD̃ṼTM = \\tilde{U} \\tilde{D} \\tilde{V}^T correlation matrix : R=ṼD̃2ṼT/(n−1)R = \\tilde{V} \\tilde{D}^2 \\tilde{V}^T / (n-1) PCA, components : PC scores: ŨD̃\\tilde{U} \\tilde{D} PC loadings: Ṽ\\tilde{V} Variance explained: D̃2/(n−1)\\tilde{D}^2 / (n-1)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"reference","dir":"Articles","previous_headings":"Block Singular Value Decomposition (Block SVD)","what":"Reference","title":"Methodology","text":"Iwen, M. & Ong, B.W. (2016). distributed incremental SVD algorithm agglomerative data analysis large networks. SIAM Journal Matrix Analysis Applications.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"the-standard-glm-framework","dir":"Articles","previous_headings":"Block Coordinate Descent (BCD) for GLMs","what":"The Standard GLM Framework","title":"Methodology","text":"Generalized Linear Model relates response yy predictors XX : g(μ)=η=Xβg(\\mu) = \\eta = X\\beta : g(⋅)g(\\cdot) link function μ=E[y]\\mu = E[y] expected response η\\eta linear predictor β\\beta coefficients estimate","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"the-distributed-setting","dir":"Articles","previous_headings":"Block Coordinate Descent (BCD) for GLMs","what":"The Distributed Setting","title":"Methodology","text":"vertically partitioned data: X=[X1|X2|...|XK]X = [X_1 | X_2 | ... | X_K]β=[β1T,β2T,...,βKT]T\\beta = [\\beta_1^T, \\beta_2^T, ..., \\beta_K^T]^T linear predictor decomposes : η=X1β1+X2β2+...+XKβK\\eta = X_1\\beta_1 + X_2\\beta_2 + ... + X_K\\beta_K","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"the-bcd-algorithm","dir":"Articles","previous_headings":"Block Coordinate Descent (BCD) for GLMs","what":"The BCD Algorithm","title":"Methodology","text":"Block Coordinate Descent iteratively updates block holding others fixed: Privacy guarantee: linear predictor contributions ηk\\eta_k shared, never raw data XkX_k intermediate coefficient values iteration.","code":"Initialize: β₁ = β₂ = ... = βₖ = 0  Repeat until convergence:     For each institution k = 1, ..., K:          1. Compute contribution from OTHER institutions:            η₋ₖ = Σⱼ≠ₖ Xⱼβⱼ  (shared as aggregate)          2. Institution k solves locally:            βₖ = argmin L(y; η₋ₖ + Xₖβₖ) + λ||βₖ||²          3. Compute and share new contribution:            ηₖ = Xₖβₖ  (shared as aggregate)      Check convergence: Σₖ||βₖⁿᵉʷ - βₖᵒˡᵈ|| < tolerance"},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"irls-for-non-gaussian-families","dir":"Articles","previous_headings":"Block Coordinate Descent (BCD) for GLMs","what":"IRLS for Non-Gaussian Families","title":"Methodology","text":"non-Gaussian families, local update uses Iteratively Reweighted Least Squares (IRLS). update institution kk : βknew=(XkTWXk+λI)−1XkTW(z−η−k)\\beta_k^{new} = (X_k^T W X_k + \\lambda )^{-1} X_k^T W (z - \\eta_{-k}) : WW weight matrix (depends family) zz working response (depends family) λ\\lambda L2 regularization parameter η−k\\eta_{-k} contribution institutions","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"family-specific-formulas","dir":"Articles","previous_headings":"Block Coordinate Descent (BCD) for GLMs","what":"Family-Specific Formulas","title":"Methodology","text":"link function g(μ)=ηg(\\mu) = \\eta, variance function V(μ)V(\\mu), response yy:","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"convergence-properties","dir":"Articles","previous_headings":"Block Coordinate Descent (BCD) for GLMs","what":"Convergence Properties","title":"Methodology","text":"BCD algorithm GLMs following properties: Monotonic descent: iteration decreases (maintains) objective Linear convergence: Converges geometric rate well-conditioned problems Regularization: λ\\lambda parameter ensures numerical stability Typical convergence requires 20-100 iterations depending data characteristics.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"reference-1","dir":"Articles","previous_headings":"Block Coordinate Descent (BCD) for GLMs","what":"Reference","title":"Methodology","text":"van Kesteren, E.J. et al. (2019). Privacy-preserving generalized linear models using distributed block coordinate descent. arXiv:1911.03183.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"the-hashing-approach","dir":"Articles","previous_headings":"Privacy-Preserving Record Alignment","what":"The Hashing Approach","title":"Methodology","text":"align records across institutions without revealing identifiers: institution computes SHA-256 hashes identifiers hashes shared (irreversible) Institutions reorder data match reference hash order SHA-256 properties: One-way function: recover input output Collision resistant: Extremely unlikely two inputs produce hash Deterministic: input always produces hash","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"example","dir":"Articles","previous_headings":"Privacy-Preserving Record Alignment","what":"Example","title":"Methodology","text":"Given hash, recovering “PATIENT_00042” require: Trying possible inputs (computationally infeasible) Even knowing ’s patient ID doesn’t significantly reduce search space","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"deviance","dir":"Articles","previous_headings":"Model Diagnostics","what":"Deviance","title":"Methodology","text":"Deviance measures well model fits, compared saturated model: D=2×[log⁡L(saturated)−log⁡L(fitted)]D = 2 \\times [\\log L(\\text{saturated}) - \\log L(\\text{fitted})] family:","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"pseudo-r-squared","dir":"Articles","previous_headings":"Model Diagnostics","what":"Pseudo R-squared","title":"Methodology","text":"McFadden’s pseudo R-squared: Rpseudo2=1−DmodelDnullR^2_{pseudo} = 1 - \\frac{D_{model}}{D_{null}} DnullD_{null} deviance intercept-model. Interpretation: 0: Model better intercept 1: Perfect fit (deviance = 0) Typical values: 0.2-0.4 considered good logistic regression","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"aic","dir":"Articles","previous_headings":"Model Diagnostics","what":"AIC","title":"Methodology","text":"Akaike Information Criterion: AIC=D+2kAIC = D + 2k kk number parameters. Lower AIC indicates better model (balancing fit complexity).","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"semi-honest-security","dir":"Articles","previous_headings":"Limitations and Considerations","what":"Semi-honest Security","title":"Methodology","text":"current implementation assumes semi-honest (honest--curious) parties: Institutions follow protocol correctly may try infer information received messages sophisticated attacks (malicious adversaries) addressed","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"numerical-considerations","dir":"Articles","previous_headings":"Limitations and Considerations","what":"Numerical Considerations","title":"Methodology","text":"Convergence: BCD may require many iterations ill-conditioned data Regularization: Small λ\\lambda (default 1e-4) prevents singular matrices Scaling: large small values may cause numerical issues","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/articles/c-methodology.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Methodology","text":"dsVertClient enables privacy-preserving analysis : Block SVD: Combines partial SVD results compute global correlation/PCA Block Coordinate Descent: Iteratively updates coefficients, sharing linear predictors Cryptographic Hashing: Aligns records without revealing identifiers methods provide strong privacy guarantees enabling meaningful statistical analysis across vertically partitioned data.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"David Sarrat González. Author, maintainer. Miron Banjac. Author. Juan R González. Author.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sarrat González D, Banjac M, González J (2026). dsVertClient: DataSHIELD Client Functions Vertically Partitioned Data. R package version 1.1.0, https://github.com/isglobal-brge/dsVertClient.","code":"@Manual{,   title = {dsVertClient: DataSHIELD Client Functions for Vertically Partitioned Data},   author = {David {Sarrat González} and Miron Banjac and Juan R González},   year = {2026},   note = {R package version 1.1.0},   url = {https://github.com/isglobal-brge/dsVertClient}, }"},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"dsvertclient","dir":"","previous_headings":"","what":"dsVertClient","title":"dsVertClient","text":"DataSHIELD Functions Vertically Partitioned Data","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"dsVertClient","text":"dsVertClient client-side DataSHIELD package enables privacy-preserving statistical analysis vertically partitioned federated data. vertical partitioning, different data sources hold different variables (columns) set observations (rows). package provides user-friendly functions : ID Validation: Check identifier format consistency alignment Record Matching: Align records across servers using secure hashing Correlation Analysis: Compute correlation matrices using distributed Block SVD Principal Component Analysis: Perform PCA across distributed data Generalized Linear Models: Fit GLMs using Block Coordinate Descent (5 families) Model Diagnostics: Deviance, pseudo R-squared, AIC metrics","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"dsVertClient","text":"","code":"# Install from GitHub (install dsVert first on servers) devtools::install_github(\"isglobal-brge/dsVertClient\")"},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"dsVertClient","text":"","code":"library(dsVertClient) library(DSI)  # Connect to DataSHIELD servers conns <- datashield.login(logindata)  # 1. Validate ID format consistency (recommended) validation <- ds.validateIdFormat(\"D\", \"patient_id\", datasources = conns) print(validation)  # 2. Align records across servers ref_hashes <- ds.hashId(\"D\", \"patient_id\", datasource = conns[\"server1\"]) ds.alignRecords(\"D\", \"patient_id\", ref_hashes$hashes, \"D_aligned\", datasources = conns)  # 3. Define which variables are on which server variables <- list(   server1 = c(\"age\", \"weight\"),   server2 = c(\"height\", \"bmi\"),   server3 = c(\"glucose\", \"cholesterol\") )  # 4. Compute correlation matrix cor_matrix <- ds.vertCor(\"D_aligned\", variables, datasources = conns)  # 5. Perform PCA pca <- ds.vertPCA(\"D_aligned\", variables, n_components = 3, datasources = conns)  # 6. Fit a GLM model <- ds.vertGLM(\"D_aligned\", \"outcome\", variables,                     family = \"gaussian\", datasources = conns) summary(model)  # Disconnect datashield.logout(conns)"},{"path":[]},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"record-matching-workflow","dir":"","previous_headings":"","what":"Record Matching Workflow","title":"dsVertClient","text":"","code":"# Step 0 (Optional): Validate ID formats validation <- ds.validateIdFormat(\"D\", \"patient_id\", datasources = conns) if (!validation$valid) {   print(validation$warnings) }  # Step 1: Get reference hashes from one server ref_hashes <- ds.hashId(\"D\", \"patient_id\", datasource = conns[\"server1\"])  # Step 2: Align all servers to match these hashes ds.alignRecords(\"D\", \"patient_id\", ref_hashes$hashes,                 newobj = \"D_aligned\", datasources = conns)  # Now all servers have aligned data in \"D_aligned\""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"correlation-and-pca","dir":"","previous_headings":"","what":"Correlation and PCA","title":"dsVertClient","text":"package uses Block Singular Value Decomposition distributed correlation PCA:","code":"# Correlation cor_matrix <- ds.vertCor(\"D_aligned\", variables, datasources = conns)  # PCA with variance explained pca <- ds.vertPCA(\"D_aligned\", variables, n_components = 4, datasources = conns) print(pca)  # Shows variance explained by each component  # Plot first two components plot(pca$scores[,1], pca$scores[,2],      xlab = paste0(\"PC1 (\", round(pca$variance_pct[1], 1), \"%)\"),      ylab = paste0(\"PC2 (\", round(pca$variance_pct[2], 1), \"%)\"))"},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"generalized-linear-models","dir":"","previous_headings":"","what":"Generalized Linear Models","title":"dsVertClient","text":"Fit GLMs using Block Coordinate Descent:","code":"# Linear regression (Gaussian) model_linear <- ds.vertGLM(\"D_aligned\", \"continuous_outcome\", x_vars,                            family = \"gaussian\", datasources = conns)  # Logistic regression (Binomial) model_logistic <- ds.vertGLM(\"D_aligned\", \"binary_outcome\", x_vars,                              family = \"binomial\", datasources = conns)  # Poisson regression model_poisson <- ds.vertGLM(\"D_aligned\", \"count_outcome\", x_vars,                             family = \"poisson\", datasources = conns)  # Gamma regression (for positive continuous data) model_gamma <- ds.vertGLM(\"D_aligned\", \"cost\", x_vars,                           family = \"Gamma\", datasources = conns)  # View results with model diagnostics summary(model_linear) # Shows: coefficients, deviance, null deviance, pseudo R-squared, AIC"},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"requirements","dir":"","previous_headings":"","what":"Requirements","title":"dsVertClient","text":"R >= 4.0.0 DSI package dsVert package installed DataSHIELD servers","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"dsVertClient","text":"Getting Started: Introduction record alignment Statistical Analysis: Correlation, PCA, GLMs Methodology: Mathematical details","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"authors","dir":"","previous_headings":"","what":"Authors","title":"dsVertClient","text":"David Sarrat González Miron Banjac Juan R González","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"dsVertClient","text":"van Kesteren, E.J. et al. (2019). Privacy-preserving generalized linear models using distributed block coordinate descent. arXiv:1911.03183. Iwen, M. & Ong, B.W. (2016). distributed incremental SVD algorithm agglomerative data analysis large networks. SIAM Journal Matrix Analysis Applications.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":null,"dir":"Reference","previous_headings":"","what":"Coefficients Method for ds.glm Objects — coef.ds.glm","title":"Coefficients Method for ds.glm Objects — coef.ds.glm","text":"Extract coefficients ds.glm object.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coefficients Method for ds.glm Objects — coef.ds.glm","text":"","code":"# S3 method for class 'ds.glm' coef(object, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coefficients Method for ds.glm Objects — coef.ds.glm","text":"object ds.glm object ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/coef.ds.glm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coefficients Method for ds.glm Objects — coef.ds.glm","text":"Named numeric vector coefficients","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.alignRecords.html","id":null,"dir":"Reference","previous_headings":"","what":"Align Records Across Servers — ds.alignRecords","title":"Align Records Across Servers — ds.alignRecords","text":"Client-side function aligns records DataSHIELD servers match reference set hashed identifiers. ensures observations properly matched across vertically partitioned data.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.alignRecords.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Align Records Across Servers — ds.alignRecords","text":"","code":"ds.alignRecords(   data_name,   id_col,   reference_hashes,   newobj = \"D_aligned\",   algo = \"sha256\",   datasources = NULL )"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.alignRecords.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Align Records Across Servers — ds.alignRecords","text":"data_name Character string. Name data frame server. id_col Character string. Name identifier column. reference_hashes Character vector. Hashes reference server (obtained via ds.hashId). newobj Character string. Name aligned data frame servers. Default \"D_aligned\". algo Character string. Hash algorithm (must match reference). Default \"sha256\". datasources DataSHIELD connection object list connections. NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.alignRecords.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Align Records Across Servers — ds.alignRecords","text":"Invisibly returns list alignment statistics server: n_matched: Number records matched n_reference: Number reference hashes","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.alignRecords.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Align Records Across Servers — ds.alignRecords","text":"function performs record alignment vertically partitioned data: Takes reference hashes (ds.hashId one server) target server: Hashes local identifiers Matches reference hashes Reorders data match reference order Creates new aligned data frame alignment, servers : number observations Observations order (identifier) observations present partitions","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.alignRecords.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Align Records Across Servers — ds.alignRecords","text":"","code":"if (FALSE) { # \\dontrun{ # Step 1: Get reference hashes from first server ref <- ds.hashId(\"D\", \"patient_id\", datasource = conns$server1)  # Step 2: Align all servers (including reference) to these hashes ds.alignRecords(\"D\", \"patient_id\", ref$hashes,                 newobj = \"D_aligned\", datasources = conns)  # Now \"D_aligned\" on all servers has matching, ordered observations } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.hashId.html","id":null,"dir":"Reference","previous_headings":"","what":"Hash Identifier Column — ds.hashId","title":"Hash Identifier Column — ds.hashId","text":"Client-side function retrieves hashed identifiers DataSHIELD server. Used first step record matching vertically partitioned data.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.hashId.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hash Identifier Column — ds.hashId","text":"","code":"ds.hashId(data_name, id_col, algo = \"sha256\", datasource = NULL)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.hashId.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hash Identifier Column — ds.hashId","text":"data_name Character string. Name data frame server. id_col Character string. Name identifier column hash. algo Character string. Hash algorithm. Default \"sha256\". datasource DataSHIELD connection object (DSConnection). NULL, uses first available connection.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.hashId.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hash Identifier Column — ds.hashId","text":"list containing: hashes: Character vector hashed identifiers n: Number observations","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.hashId.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Hash Identifier Column — ds.hashId","text":"function typically called \"reference\" server vertical partitioning scenario. returned hashes passed ds.alignRecords servers align data.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.hashId.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hash Identifier Column — ds.hashId","text":"","code":"if (FALSE) { # \\dontrun{ # Get hashes from reference server ref_hashes <- ds.hashId(\"D\", \"patient_id\", datasource = conns$server1)  # Use hashes to align other servers ds.alignRecords(\"D\", \"patient_id\", ref_hashes$hashes,                 datasources = conns[c(\"server2\", \"server3\")]) } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.validateIdFormat.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate Identifier Format Across Servers — ds.validateIdFormat","title":"Validate Identifier Format Across Servers — ds.validateIdFormat","text":"Client-side function validates identifier format consistency across DataSHIELD servers record alignment.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.validateIdFormat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate Identifier Format Across Servers — ds.validateIdFormat","text":"","code":"ds.validateIdFormat(data_name, id_col, pattern = NULL, datasources = NULL)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.validateIdFormat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate Identifier Format Across Servers — ds.validateIdFormat","text":"data_name Character string. Name data frame server. id_col Character string. Name identifier column. pattern Character string (optional). Regular expression pattern IDs match servers. datasources DataSHIELD connection object(s). NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.validateIdFormat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate Identifier Format Across Servers — ds.validateIdFormat","text":"list class \"ds.id.validation\" containing: valid: Logical, TRUE formats consistent across servers servers: Data frame validation results per server format_match: Logical, TRUE servers format signature pattern_match: Logical, TRUE servers match pattern (pattern provided) warnings: Character vector warnings detected","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.validateIdFormat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate Identifier Format Across Servers — ds.validateIdFormat","text":"function called ds.alignRecords ensure identifier formats consistent across data partitions. helps catch common issues like: Different ID formats (e.g., \"001\" vs \"1\" vs \"ID001\") Missing duplicate identifiers Type mismatches (numeric vs character) function uses format signatures (hashed format characteristics) compare formats without revealing actual identifier values.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.validateIdFormat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate Identifier Format Across Servers — ds.validateIdFormat","text":"","code":"if (FALSE) { # \\dontrun{ # Validate ID format before alignment validation <- ds.validateIdFormat(\"D\", \"patient_id\", datasources = conns) print(validation)  if (validation$valid) {   # Proceed with alignment   ref_hashes <- ds.hashId(\"D\", \"patient_id\", datasource = conns[\"server1\"])   ds.alignRecords(\"D\", \"patient_id\", ref_hashes$hashes, \"D_aligned\", conns) }  # With pattern validation validation <- ds.validateIdFormat(\"D\", \"patient_id\",                                   pattern = \"^[A-Z]{2}[0-9]{6}$\",                                   datasources = conns) } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":null,"dir":"Reference","previous_headings":"","what":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","title":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","text":"Client-side function computes correlation matrix across vertically partitioned data using distributed Block SVD.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","text":"","code":"ds.vertCor(data_name, variables, datasources = NULL)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","text":"data_name Character string. Name (aligned) data frame server. variables named list name corresponds server name element character vector variable names server. datasources DataSHIELD connection object list connections. NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","text":"correlation matrix dimensions equal total number variables across servers. Row column names variable names.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","text":"function implements distributed correlation analysis using Block Singular Value Decomposition: server computes U*D SVD standardized variables Client combines  single matrix Client computes final SVD get V D Correlation matrix = V * D^2 * V' (normalized) method privacy-preserving : Individual U*D matrices reconstruct original data combined correlation structure revealed","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","text":"Iwen, M. & Ong, B.W. (2016). distributed incremental SVD algorithm agglomerative data analysis large networks. SIAM Journal Matrix Analysis Applications.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertCor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Correlation Matrix for Vertically Partitioned Data — ds.vertCor","text":"","code":"if (FALSE) { # \\dontrun{ # Define which variables are on which server vars <- list(   server1 = c(\"age\", \"weight\"),   server2 = c(\"height\", \"bmi\"),   server3 = c(\"glucose\", \"cholesterol\") )  # Compute correlation matrix cor_matrix <- ds.vertCor(\"D_aligned\", vars, datasources = conns) print(cor_matrix) } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","title":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","text":"Client-side function fits Generalized Linear Model across vertically partitioned data using Block Coordinate Descent.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","text":"","code":"ds.vertGLM(   data_name,   y_var,   x_vars,   family = \"gaussian\",   max_iter = 100,   tol = 1e-06,   lambda = 1e-04,   verbose = TRUE,   datasources = NULL )"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","text":"data_name Character string. Name (aligned) data frame server. y_var Character string. Name response variable (must exist servers). x_vars named list name corresponds server name element character vector predictor variable names server. family Character string. GLM family: \"gaussian\", \"binomial\", \"poisson\", \"Gamma\", \"inverse.gaussian\". Default \"gaussian\". max_iter Integer. Maximum number iterations. Default 100. tol Numeric. Convergence tolerance. Default 1e-6. lambda Numeric. L2 regularization parameter. Default 1e-4. verbose Logical. Print iteration progress. Default TRUE. datasources DataSHIELD connection object list connections. NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","text":"list class \"ds.glm\" containing: coefficients: Named vector coefficient estimates iterations: Number iterations convergence converged: Logical indicating convergence family: Family used n_obs: Number observations n_vars: Number predictor variables deviance: Residual deviance fitted model null_deviance: Null deviance (intercept-model) pseudo_r2: McFadden's pseudo R-squared aic: Akaike Information Criterion call: matched call","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","text":"function implements Block Coordinate Descent (BCD) algorithm privacy-preserving GLM fitting vertically partitioned data. algorithm iteratively: partition : Compute eta_other = sum X_j * beta_j j != Update beta_i using IRLS eta_other Share new eta_i = X_i * beta_i (raw data coefficients) Check convergence (sum |beta_new - beta_old| < tol) Repeat converged max_iter reached Privacy preserved : linear predictor contributions (eta) shared Raw data never leaves servers Final coefficients computed locally server","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","text":"van Kesteren, E.J. et al. (2019). Privacy-preserving generalized linear models using distributed block coordinate descent. arXiv:1911.03183.","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertGLM.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generalized Linear Model for Vertically Partitioned Data — ds.vertGLM","text":"","code":"if (FALSE) { # \\dontrun{ # Define predictor variables per server x_vars <- list(   server1 = c(\"age\", \"weight\"),   server2 = c(\"height\", \"bmi\"),   server3 = c(\"glucose\", \"cholesterol\") )  # Fit Gaussian GLM (linear regression) model <- ds.vertGLM(\"D_aligned\", \"outcome\", x_vars, family = \"gaussian\") print(model)  # Fit logistic regression model_logit <- ds.vertGLM(\"D_aligned\", \"binary_outcome\", x_vars,                           family = \"binomial\") } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":null,"dir":"Reference","previous_headings":"","what":"Principal Component Analysis for Vertically Partitioned Data — ds.vertPCA","title":"Principal Component Analysis for Vertically Partitioned Data — ds.vertPCA","text":"Client-side function performs PCA vertically partitioned data using distributed Block SVD.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Principal Component Analysis for Vertically Partitioned Data — ds.vertPCA","text":"","code":"ds.vertPCA(data_name, variables, n_components = NULL, datasources = NULL)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Principal Component Analysis for Vertically Partitioned Data — ds.vertPCA","text":"data_name Character string. Name (aligned) data frame server. variables named list name corresponds server name element character vector variable names server. n_components Integer. Number principal components return. Default NULL (returns ). datasources DataSHIELD connection object list connections. NULL, uses available connections.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Principal Component Analysis for Vertically Partitioned Data — ds.vertPCA","text":"list class \"ds.pca\" containing: scores: Matrix principal component scores (n_obs x n_components) loadings: Matrix variable loadings (n_vars x n_components) variance: Variance explained component variance_pct: Percentage variance explained cumulative_pct: Cumulative percentage explained var_names: Variable names","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Principal Component Analysis for Vertically Partitioned Data — ds.vertPCA","text":"function extends Block SVD approach correlation perform full PCA: server computes U*D SVD standardized variables Client combines performs final SVD Principal components = U * D (combined) Loadings = V (right singular vectors) Variance = D^2 / (n-1)","code":""},{"path":[]},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/ds.vertPCA.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Principal Component Analysis for Vertically Partitioned Data — ds.vertPCA","text":"","code":"if (FALSE) { # \\dontrun{ vars <- list(   server1 = c(\"age\", \"weight\"),   server2 = c(\"height\", \"bmi\") )  pca_result <- ds.vertPCA(\"D_aligned\", vars, n_components = 3)  # Plot first two components plot(pca_result$scores[, 1], pca_result$scores[, 2],      xlab = paste0(\"PC1 (\", round(pca_result$variance_pct[1], 1), \"%)\"),      ylab = paste0(\"PC2 (\", round(pca_result$variance_pct[2], 1), \"%)\")) } # }"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.glm.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for ds.glm Objects — print.ds.glm","title":"Print Method for ds.glm Objects — print.ds.glm","text":"Prints summary GLM results.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for ds.glm Objects — print.ds.glm","text":"","code":"# S3 method for class 'ds.glm' print(x, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for ds.glm Objects — print.ds.glm","text":"x ds.glm object ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.id.validation.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for ds.id.validation Objects — print.ds.id.validation","title":"Print Method for ds.id.validation Objects — print.ds.id.validation","text":"Prints summary ID format validation results.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.id.validation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for ds.id.validation Objects — print.ds.id.validation","text":"","code":"# S3 method for class 'ds.id.validation' print(x, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.id.validation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for ds.id.validation Objects — print.ds.id.validation","text":"x ds.id.validation object ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.pca.html","id":null,"dir":"Reference","previous_headings":"","what":"Print Method for ds.pca Objects — print.ds.pca","title":"Print Method for ds.pca Objects — print.ds.pca","text":"Prints summary PCA results.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.pca.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print Method for ds.pca Objects — print.ds.pca","text":"","code":"# S3 method for class 'ds.pca' print(x, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/print.ds.pca.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print Method for ds.pca Objects — print.ds.pca","text":"x ds.pca object ... Additional arguments (ignored)","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/summary.ds.glm.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary Method for ds.glm Objects — summary.ds.glm","title":"Summary Method for ds.glm Objects — summary.ds.glm","text":"Prints detailed summary including deviance fit statistics.","code":""},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/summary.ds.glm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary Method for ds.glm Objects — summary.ds.glm","text":"","code":"# S3 method for class 'ds.glm' summary(object, ...)"},{"path":"https://isglobal-brge.github.io/dsVertClient/reference/summary.ds.glm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary Method for ds.glm Objects — summary.ds.glm","text":"object ds.glm object ... Additional arguments (ignored)","code":""}]
